<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>H3 Cracking Archive</title>
    <link rel='shortcut icon' type='image/x-icon' href='https://raw.githubusercontent.com/thepwrtank18/DD-Archive/master/h3cracking.ico' />
    <link rel='icon' type='image/x-icon' href='https://raw.githubusercontent.com/thepwrtank18/DD-Archive/master/h3cracking.ico' />
    
    <script type="text/javascript">
		window.DHT_EMBEDDED = "{\"meta\":{\"users\":{\"159985870458322944\":{\"name\":\"MEE6\",\"avatar\":\"b50adff099924dd5e6b72d13f77eb9d7\"},\"175594692237328384\":{\"name\":\"Disyer\",\"avatar\":\"4d67562253b44395f9a64bac31779a55\",\"tag\":\"2168\"},\"283251844417847296\":{\"name\":\"5CupsOfCoffee\",\"avatar\":\"797bf899313eaca788a3223a0f716e84\",\"tag\":\"1911\"},\"292626189917618176\":{\"name\":\"DawnUltra\",\"avatar\":\"68d744cfce5d447fc4da09a5983adcb3\",\"tag\":\"9995\"},\"296102364073558017\":{\"name\":\"gear\",\"avatar\":\"f9e84c26120c3f4ea07dae0208d628c7\",\"tag\":\"4932\"},\"309364703338168331\":{\"name\":\"BRICKMANE\",\"avatar\":\"1c9d5d5abf2d30ee2c646a4d3f0c792b\",\"tag\":\"6107\"},\"387592379516977165\":{\"name\":\"freestyler\",\"tag\":\"1704\"},\"455202304770048001\":{\"name\":\"TheTank20\",\"avatar\":\"f1bacff3fcb1b8ca8934af09ad18ec30\",\"tag\":\"2998\"},\"551369498909999115\":{\"name\":\"SwagSire\",\"avatar\":\"5f141cb02ef3f3a1c953179017e1fa77\",\"tag\":\"9313\"},\"758314094562115635\":{\"name\":\"! ! \\uD83C\\uDD83\\uD83C\\uDD77\\uD83C\\uDD78\\uD83C\\uDD7B\\uD83C\\uDD70\\uD83C\\uDD7A\",\"avatar\":\"119306d7499549b9edb8bbbe8ff05cef\",\"tag\":\"6969\"},\"759266953323479062\":{\"name\":\"TheTank20\\u0027s Alt\",\"avatar\":\"44565b6b57b387149ce35cca7cd9aa43\",\"tag\":\"0894\"},\"823506483962445885\":{\"name\":\"HueBone\",\"avatar\":\"b7e9532291557e156cfe6a9e56928a00\",\"tag\":\"5816\"},\"840303641613172816\":{\"name\":\"TheTank20\",\"avatar\":\"bb16fddea7f9771ecb207e22450be597\"},\"860388343364059156\":{\"name\":\"RandomAJ\\u03C3\",\"avatar\":\"ccfff55b68d9ef340dedfe68ea5cca6e\",\"tag\":\"9053\"},\"860402284785827850\":{\"name\":\"Hitman 3 Distribution #general\"},\"860689621020442644\":{\"name\":\"IceyPhantom2\",\"tag\":\"0848\"}},\"userindex\":[\"159985870458322944\",\"175594692237328384\",\"283251844417847296\",\"292626189917618176\",\"296102364073558017\",\"309364703338168331\",\"387592379516977165\",\"455202304770048001\",\"551369498909999115\",\"758314094562115635\",\"759266953323479062\",\"823506483962445885\",\"840303641613172816\",\"860388343364059156\",\"860402284785827850\",\"860689621020442644\"],\"servers\":[{\"name\":\"Hitman 3 Cracking\",\"type\":\"server\"}],\"channels\":{\"840262030563737610\":{\"server\":0,\"name\":\"welcome\",\"parent\":\"840262008066932777\",\"nsfw\":false},\"840262049765392455\":{\"server\":0,\"name\":\"downloads\",\"parent\":\"840262008066932777\",\"nsfw\":false},\"840269597688332348\":{\"server\":0,\"name\":\"chat\",\"parent\":\"840264283371077632\",\"nsfw\":false},\"840298701367803954\":{\"server\":0,\"name\":\"servers\",\"parent\":\"840264283371077632\",\"nsfw\":false},\"840299899206762516\":{\"server\":0,\"name\":\"absolution\",\"parent\":\"840299861110816831\",\"nsfw\":false},\"840299914952048681\":{\"server\":0,\"name\":\"hitman-2016\",\"parent\":\"840299861110816831\",\"nsfw\":false}}},\"data\":{\"840262030563737610\":{\"840262140664610907\":{\"u\":7,\"t\":1620404505650,\"m\":\"welcome i guess\"},\"840273658865909801\":{\"u\":7,\"t\":1620407251803,\"m\":\"https://discord.gg/B8xCaHXMse\"},\"840283501164888126\":{\"u\":7,\"t\":1620409598390,\"m\":\"if anyone asks why you are pirating hitman, say this back (don\\u0027t spam it):\",\"te\":1620413109516},\"840283528180269066\":{\"u\":7,\"t\":1620409604831,\"m\":\"https://tenor.com/view/cope-sphere-inside-out-turning-a-sphere-inside-out-outside-in-how-to-turn-a-sphere-inside-out-gif-21417574\",\"e\":[\"{\\u0022url\\u0022:\\u0022https://tenor.com/view/cope-sphere-inside-out-turning-a-sphere-inside-out-outside-in-how-to-turn-a-sphere-inside-out-gif-21417574\\u0022,\\u0022type\\u0022:\\u0022gifv\\u0022,\\u0022provider\\u0022:{\\u0022name\\u0022:\\u0022Tenor\\u0022,\\u0022url\\u0022:\\u0022https://tenor.co\\u0022},\\u0022thumbnail\\u0022:{\\u0022url\\u0022:\\u0022https://media.tenor.co/images/fd84b53c1ac188df5baad269ee0bf02f/tenor.png\\u0022,\\u0022proxyURL\\u0022:\\u0022https://images-ext-2.discordapp.net/external/BugXs1Cy8cApt3JwhCEGZikPXU6wmQ-C3_rR7_cgvz4/https/media.tenor.co/images/fd84b53c1ac188df5baad269ee0bf02f/tenor.png\\u0022,\\u0022width\\u0022:640,\\u0022height\\u0022:604},\\u0022video\\u0022:{\\u0022url\\u0022:\\u0022https://media.tenor.co/videos/5c9dddbfaceab412c0302664dc1e76a7/mp4\\u0022,\\u0022width\\u0022:640,\\u0022height\\u0022:604}}\"]},\"840300132071112715\":{\"u\":7,\"t\":1620413563507,\"m\":\"In order to unmute yourself, go to \\u003C#840264937821044756\\u003E and click the like button\\nI also check the server list every once in a while, and make you member anyway\",\"te\":1625199992722}},\"840262049765392455\":{\"840262416989290596\":{\"u\":7,\"t\":1620404571531,\"m\":\"**1.0.0** (Uncracked) - Removed from archive\",\"te\":1620404577974},\"840262504314568724\":{\"u\":7,\"t\":1620404592351,\"m\":\"**1.0.0** (Cracked) - Removed from archive\"},\"846216230896926760\":{\"u\":7,\"t\":1621824071383,\"m\":\"**1.0.5** (Uncracked) - *unknown*\\n**1.0.5** (Cracked) - Removed from archive\",\"te\":1625184895184},\"860312682058219520\":{\"u\":7,\"t\":1625184927239,\"m\":\"**2.1.0** (Uncracked) - Removed from archive\\n**2.1.0** (Cracked) - Removed from archive\",\"te\":1625275701724},\"878596652032749599\":{\"u\":7,\"t\":1629544165381,\"m\":\"**3.0.0** (Uncracked) - Removed from archive\\n**3.0.0** (Cracked) - N/A\"},\"878596799827419167\":{\"u\":7,\"t\":1629544200618,\"m\":\"\\u003C@!175594692237328384\\u003E anonymous source gave a download link to me\"}},\"840269597688332348\":{\"840303643680571402\":{\"u\":12,\"t\":1620414400740,\"m\":\"\\u003Ca:cope:840303398569771089\\u003E\"},\"843940196461969440\":{\"u\":2,\"t\":1621281422487,\"m\":\"does anyone have an invite to official pea cock server?\"},\"843940226035613737\":{\"u\":7,\"t\":1621281429538,\"m\":\"no\"},\"843940271883550740\":{\"u\":2,\"t\":1621281440469,\"m\":\"is it still on lockdown?\"},\"843940333288554518\":{\"u\":7,\"t\":1621281455109,\"m\":\"i assume so\"},\"843940373109538886\":{\"u\":7,\"t\":1621281464603,\"m\":\"however\"},\"843940397834960966\":{\"u\":7,\"t\":1621281470498,\"m\":\"I got Disyer, the cracker in the server\"},\"844153444259332096\":{\"u\":3,\"t\":1621332264724,\"m\":\"There is another server emulator in development called localghost https://gitlab.com/grappigegovert/localghost\",\"e\":[\"{\\u0022url\\u0022:\\u0022https://gitlab.com/grappigegovert/localghost\\u0022,\\u0022type\\u0022:\\u0022link\\u0022,\\u0022title\\u0022:\\u0022grappigegovert / LocalGhost\\u0022,\\u0022description\\u0022:\\u0022A solution for playing Hitman2 Ghost Mode after the closing of the official servers.\\u0022,\\u0022provider\\u0022:{\\u0022name\\u0022:\\u0022GitLab\\u0022},\\u0022color\\u0022:\\u0022hsl(218, calc(var(--saturation-factor, 1) * 10.1%), 31%)\\u0022,\\u0022thumbnail\\u0022:{\\u0022url\\u0022:\\u0022https://assets.gitlab-static.net/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png\\u0022,\\u0022proxyURL\\u0022:\\u0022https://images-ext-2.discordapp.net/external/DkF5MVjV3dgiqhgp8J0ROWrKTz-fABDy9o5LuOXgYiQ/https/assets.gitlab-static.net/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png\\u0022,\\u0022width\\u0022:64,\\u0022height\\u0022:64}}\"]},\"844155797894463488\":{\"u\":1,\"t\":1621332825874,\"m\":\"actually peacock is a fork of localghost\"},\"844174378127851541\":{\"u\":3,\"t\":1621337255747,\"m\":\"yes\"},\"844174443085430815\":{\"u\":3,\"t\":1621337271234,\"m\":\"but they have obfuscated their code\"},\"844753123825942588\":{\"u\":7,\"t\":1621475239474,\"m\":\"\\u003C@175594692237328384\\u003E Do you have an invite to the Peacock server?\"},\"844753300422262825\":{\"u\":7,\"t\":1621475281578,\"m\":\"Or is there someone that DM\\u0027s you the Peacock updates (assuming that since your discord and cs.rin.ru names are the same)\"},\"844803767891263508\":{\"u\":1,\"t\":1621487313960,\"m\":\"unfortunately I\\u0027m not in the Peacock server\"},\"844871795987185714\":{\"u\":1,\"t\":1621503533122,\"m\":\"also, my cs.rin name is different lol somebody pmed me on reddit\"},\"845607060808138782\":{\"u\":3,\"t\":1621678833916,\"a\":[{\"url\":\"https://cdn.discordapp.com/attachments/840269597688332348/845607060359610378/unknown.png\"}]},\"845607102205919252\":{\"u\":3,\"t\":1621678843786,\"m\":\"with localghost (not peacock)\"},\"845607261594451998\":{\"u\":3,\"t\":1621678881787,\"m\":\"im currently working on this\",\"a\":[{\"url\":\"https://cdn.discordapp.com/attachments/840269597688332348/845607261156933641/unknown.png\"}]},\"845607389457154048\":{\"u\":3,\"t\":1621678912272,\"m\":\"really easy to fix thanks to the dev \\n\\n\\u0060\\u0060\\u0060\\nunhandled GET /profiles/page/Destination?locationId=LOCATION_PARENT_PARIS\\n\\u0060\\u0060\\u0060\"},\"845609605098766347\":{\"u\":3,\"t\":1621679440522,\"m\":\"progressing\"},\"845609808093773834\":{\"u\":3,\"t\":1621679488920,\"a\":[{\"url\":\"https://cdn.discordapp.com/attachments/840269597688332348/845609807507619850/unknown.png\"}]},\"845679980214353992\":{\"u\":7,\"t\":1621696219257,\"m\":\"we just might get a server essentially identical to the official servers in the front-end\"},\"846119526277447690\":{\"u\":7,\"t\":1621801015205,\"m\":\"can anyone get Seven Deadly Sins content to work on Peacock\"},\"846214744888049675\":{\"u\":7,\"t\":1621823717091,\"m\":\"\\u003C@292626189917618176\\u003E i\\u0027m assuming you are creating a server that looks like the IOI servers\"},\"853889193062957086\":{\"u\":7,\"t\":1623653448120,\"m\":\"https://cs.rin.ru/forum/viewtopic.php?f=38\\u0026t=105454\\u0026p=2390193#p2390193\"},\"853889228743114762\":{\"u\":7,\"t\":1623653456627,\"m\":\"time for Sloth\"},\"854428109872955413\":{\"u\":7,\"t\":1623781935900,\"m\":\"https://thepeacockproject.org/wiki/legal/privacy-policy\",\"e\":[\"{\\u0022url\\u0022:\\u0022https://thepeacockproject.org/wiki/legal/privacy-policy\\u0022,\\u0022type\\u0022:\\u0022link\\u0022,\\u0022title\\u0022:\\u0022Peacock Privacy Policy | The Peacock Project\\u0022,\\u0022description\\u0022:\\u0022Scope\\u0022}\"]},\"854428184372183040\":{\"u\":7,\"t\":1623781953662,\"m\":\"apparently you need to be in the Peacock Discord in order to use the latest versions now\"},\"860347487247138876\":{\"u\":8,\"t\":1625193225443,\"m\":\"Can it be bypassed?\",\"r\":\"854428109872955413\"},\"860375155703545856\":{\"u\":7,\"t\":1625199822117,\"m\":\"anything can be bypassed, given enough time\"},\"860382535815790612\":{\"u\":8,\"t\":1625201581673,\"m\":\"clarity_g has the peacock file in cs.rin.ru, just letting you know.\"},\"860382830017773589\":{\"u\":7,\"t\":1625201651816,\"m\":\"since I have 0 idea who clarity_g is, made a new rule\"},\"860382917745049641\":{\"u\":7,\"t\":1625201672732,\"m\":\"@everyone New rule: please change your username to your cs.rin.ru username\"},\"860387893893136424\":{\"u\":8,\"t\":1625202859138,\"m\":\"Shit man forgot my password\"},\"860387907000729621\":{\"u\":8,\"t\":1625202862263,\"m\":\"lemme find it\"},\"860387983626600458\":{\"u\":7,\"t\":1625202880532,\"m\":\"i always just use the forgot password feature as a \\u0022one time code\\u0022 system\"},\"860389242349944872\":{\"u\":13,\"t\":1625203180635,\"m\":\"So yeah\"},\"860389328618520577\":{\"u\":13,\"t\":1625203201203,\"m\":\"I deleted my old gmail account so I left \\u003C@!551369498909999115\\u003E\"},\"860389419445780511\":{\"u\":13,\"t\":1625203222858,\"m\":\"You can kick it if you want, It\\u0027s pretty much dead\"},\"860389456333897728\":{\"u\":13,\"t\":1625203231653,\"m\":\"https://cs.rin.ru/forum/viewtopic.php?f=38\\u0026t=105454\\u0026hilit=trinity\\u0026start=1440\",\"r\":\"860382830017773589\"},\"860389531454144562\":{\"u\":7,\"t\":1625203249563,\"m\":\"said that as in if he/she is in the discord\"},\"860389976474910721\":{\"u\":13,\"t\":1625203355664,\"m\":\"Oh, I\\u0027ll try to ask\"},\"860391578169245717\":{\"u\":13,\"t\":1625203737538,\"m\":\"Other than that, what if one of the peacock guys got in?\"},\"860391601049174016\":{\"u\":13,\"t\":1625203742993,\"m\":\"In this discord?\"},\"860391620281499659\":{\"u\":7,\"t\":1625203747578,\"m\":\"hmm\"},\"860391785088155649\":{\"u\":7,\"t\":1625203786871,\"m\":\"rule that if you are in the peacock server\"},\"860391803894497292\":{\"u\":7,\"t\":1625203791355,\"m\":\"do not use your rin name\"},\"860391849372942368\":{\"u\":13,\"t\":1625203802198,\"m\":\"I know that\"},\"860391892906803220\":{\"u\":13,\"t\":1625203812577,\"m\":\"But what if one of them guys got in here\"},\"860391909616123904\":{\"u\":7,\"t\":1625203816561,\"m\":\"oh wait\"},\"860391934517444618\":{\"u\":13,\"t\":1625203822498,\"m\":\"they also could impersonate someone\"},\"860391957896495114\":{\"u\":7,\"t\":1625203828072,\"m\":\"mutual servers\"},\"860391986301239317\":{\"u\":13,\"t\":1625203834844,\"m\":\"what\"},\"860392009738354699\":{\"u\":13,\"t\":1625203840432,\"m\":\"what\\u0027s that\"},\"860392014286028800\":{\"u\":7,\"t\":1625203841516,\"m\":\"you can check someone\\u0027s mutual servers\"},\"860392050377752576\":{\"u\":7,\"t\":1625203850121,\"m\":\"go to their discord profile\"},\"860392078885650432\":{\"u\":13,\"t\":1625203856918,\"m\":\"They could make new accounts tho\"},\"860392098205007892\":{\"u\":13,\"t\":1625203861524,\"m\":\"not really hard\"},\"860392153401262090\":{\"u\":13,\"t\":1625203874684,\"m\":\"Temporary Mail can be verfiable\",\"te\":1625203892470},\"860392832153157683\":{\"u\":13,\"t\":1625204036511,\"m\":\"Making Trusted members could be a choice\"},\"860392885072166922\":{\"u\":13,\"t\":1625204049128,\"m\":\"but it can cause problems too\"},\"860392902270517258\":{\"u\":7,\"t\":1625204053228,\"m\":\"how do we do this without having Peacock-level verification\"},\"860392957874405436\":{\"u\":13,\"t\":1625204066485,\"m\":\"That\\u0027s the problem\"},\"860393065521086496\":{\"u\":13,\"t\":1625204092150,\"m\":\"We could make a passcode\"},\"860393102052950026\":{\"u\":7,\"t\":1625204100860,\"m\":\"rdil sees rin\"},\"860393123846422558\":{\"u\":13,\"t\":1625204106056,\"m\":\"Yup\"},\"860393185746223116\":{\"u\":13,\"t\":1625204120814,\"m\":\"Howd you know btw?\"},\"860393260756893698\":{\"u\":7,\"t\":1625204138698,\"m\":\"i kickstarted this whole thing\"},\"860393283103358976\":{\"u\":7,\"t\":1625204144026,\"m\":\"got banned from peacock discord\"},\"860393308727279616\":{\"u\":13,\"t\":1625204150135,\"m\":\"Eeek\"},\"860393335818289173\":{\"u\":13,\"t\":1625204156594,\"m\":\"yeah i remember\"},\"860393390624866304\":{\"u\":13,\"t\":1625204169661,\"m\":\"You caused a full on lockdown\"},\"860393510544736277\":{\"u\":7,\"t\":1625204198252,\"m\":\"500 upvotes on Reddit, until that got removed by the mods due to rdil asking them to delete\"},\"860393572846534667\":{\"u\":4,\"t\":1625204213106,\"m\":\"why doesnt the localghost server work, it says it should work with 3.40 but I compiled the patcher and the server but it doesnt work\"},\"860393707547262976\":{\"u\":7,\"t\":1625204245221,\"m\":\"no idea, i use peacock (when I can)\"},\"860393830040600616\":{\"u\":4,\"t\":1625204274426,\"m\":\"did the 1.05 crack work for you? I saw someone said it did for them so I plan on trying again but I had a bunch of errors last time I tried it\"},\"860393872516186112\":{\"u\":7,\"t\":1625204284553,\"m\":\"worked for me\"},\"860393898010345523\":{\"u\":7,\"t\":1625204290631,\"m\":\"for 3.30\"},\"860393951855771708\":{\"u\":4,\"t\":1625204303469,\"m\":\"hmm alright thanks ye i tried with 3.30 but ill try again then\"},\"860394033801461782\":{\"u\":13,\"t\":1625204323006,\"m\":\"1.0.5 wont work for 3.40\"},\"860394079494078484\":{\"u\":13,\"t\":1625204333900,\"m\":\"obviously they need to update it\"},\"860394147982213132\":{\"u\":13,\"t\":1625204350229,\"m\":\"Hold on\"},\"860394193795809340\":{\"u\":13,\"t\":1625204361152,\"m\":\"non rin? whys that?\"},\"860394288059383809\":{\"u\":7,\"t\":1625204383626,\"m\":\"is your username your rin username\"},\"860394291699253269\":{\"u\":7,\"t\":1625204384494,\"m\":\"or\"},\"860394307889922078\":{\"u\":7,\"t\":1625204388354,\"m\":\"i should probably remove that\"},\"860394365469851648\":{\"u\":7,\"t\":1625204402082,\"m\":\"since it\\u0027s basically more of a risk than anything else\"},\"860394542524006461\":{\"u\":13,\"t\":1625204444295,\"m\":\"Yeah, people might just ban me for \\u0022possibly\\u0022 being from peacock\"},\"860394563667623956\":{\"u\":4,\"t\":1625204449336,\"m\":\"if we all use random names and the joined they wouldnt be able to connect any of our names to anything lol\"},\"860394566679396372\":{\"u\":13,\"t\":1625204450054,\"m\":\"anyways\"},\"860394597813583883\":{\"u\":7,\"t\":1625204457477,\"m\":\"mutual server list\",\"r\":\"860394563667623956\"},\"860394629815599144\":{\"u\":4,\"t\":1625204465107,\"m\":\"ooh ya\"},\"860394669987725332\":{\"u\":13,\"t\":1625204474685,\"m\":\"Not like they could make another accs tho\"},\"860394681530843136\":{\"u\":7,\"t\":1625204477437,\"m\":\"i\\u0027m thinking of making a discord server for peacock distributors\"},\"860394691006038017\":{\"u\":13,\"t\":1625204479696,\"m\":\"took me 5 mins\"},\"860394768268787712\":{\"u\":13,\"t\":1625204498117,\"m\":\"with temporary mail, I could speedrun it in 2\"},\"860394822678347787\":{\"u\":7,\"t\":1625204511089,\"m\":\"it relays all their messages to this server\"},\"860394884489543711\":{\"u\":7,\"t\":1625204525826,\"m\":\"but the catch is that what us (and rdil) will see\"},\"860394918445842462\":{\"u\":7,\"t\":1625204533922,\"m\":\"is that it\\u0027s anonymous\"},\"860394954954244097\":{\"u\":7,\"t\":1625204542626,\"m\":\"no link can be traced\",\"te\":1625204549761},\"860395140053336135\":{\"u\":13,\"t\":1625204586757,\"m\":\"maybe not\"},\"860395296181846017\":{\"u\":13,\"t\":1625204623981,\"m\":\"How about sending it to trusted members only?\"},\"860395347914391572\":{\"u\":13,\"t\":1625204636315,\"m\":\"but thats just peacock\\u0027s policy\"},\"860395444198309888\":{\"u\":7,\"t\":1625204659271,\"m\":\"I can make a relay server for non-trusted members\"},\"860395467954585601\":{\"u\":13,\"t\":1625204664935,\"m\":\"Yeah\"},\"860395502340538398\":{\"u\":13,\"t\":1625204673133,\"m\":\"What\\u0027s relay tho\"},\"860395616899301417\":{\"u\":13,\"t\":1625204700446,\"m\":\"*Damn, should\\u0027ve taken Computer Science*\"},\"860395698281381909\":{\"u\":7,\"t\":1625204719849,\"m\":\"basically sends information from one place to another\"},\"860395751100514324\":{\"u\":7,\"t\":1625204732442,\"m\":\"non-trusted members see all the channels trusted members see\"},\"860395755424055297\":{\"u\":7,\"t\":1625204733473,\"m\":\"however\"},\"860395789427802112\":{\"u\":13,\"t\":1625204741580,\"m\":\"In context of this server, how will you make it possible?\"},\"860395821702578226\":{\"u\":7,\"t\":1625204749275,\"m\":\"webhooks\"},\"860395865364627477\":{\"u\":7,\"t\":1625204759685,\"m\":\"all our usernames to them are just random strings of letters and numbers\"},\"860395960701812736\":{\"u\":7,\"t\":1625204782415,\"m\":\"with no actual correlation to our actual accounts\"},\"860395967945506836\":{\"u\":13,\"t\":1625204784142,\"m\":\"Meaning untrusted can\\u0027t recognise us?\"},\"860396072581070858\":{\"u\":7,\"t\":1625204809089,\"m\":\"that\\u0027s why I want a relay server for distributors\"},\"860396123843592202\":{\"u\":7,\"t\":1625204821311,\"m\":\"since that makes sense, distributors should be hidden\"},\"860396141785907220\":{\"u\":13,\"t\":1625204825589,\"m\":\"Could be possible\"},\"860397000942813214\":{\"u\":7,\"t\":1625205030428,\"m\":\"the good thing is that there\\u0027s a free hosting platform called Heroku\"},\"860397040659857408\":{\"u\":13,\"t\":1625205039897,\"m\":\"Heroku\"},\"860397078861971496\":{\"u\":7,\"t\":1625205049005,\"m\":\"and the best thing is that since I have my credit card tied to it, there\\u0027s 400 hours of uptime for free\"},\"860397155822993418\":{\"u\":7,\"t\":1625205067354,\"m\":\"which is enough for an entire month (it resets every month)\"},\"860397183009947678\":{\"u\":7,\"t\":1625205073836,\"m\":\"\\u003C@!758314094562115635\\u003E who u\"},\"860397299934429224\":{\"u\":13,\"t\":1625205101713,\"m\":\"\\u003C@!758314094562115635\\u003E  please change username to csrinru username\"},\"860397352488271893\":{\"u\":7,\"t\":1625205114243,\"m\":\"checked, also in freemediaheckyeah server\"},\"860397366644572190\":{\"u\":7,\"t\":1625205117618,\"m\":\"has nitro\"},\"860397374919540746\":{\"u\":7,\"t\":1625205119591,\"m\":\"yeah\"},\"860397388336988170\":{\"u\":7,\"t\":1625205122790,\"m\":\"we can say he\\u0027s good\"},\"860397410635481129\":{\"u\":13,\"t\":1625205128106,\"m\":\"Wait\"},\"860397461084176424\":{\"u\":13,\"t\":1625205140134,\"m\":\"that subreddit has a server?\"},\"860397476024549436\":{\"u\":7,\"t\":1625205143696,\"m\":\"yes\"},\"860397504478052423\":{\"u\":7,\"t\":1625205150480,\"m\":\"https://discord.gg/fmhy\"},\"860397515362402344\":{\"u\":13,\"t\":1625205153075,\"m\":\"Whoa\"},\"860397731399204874\":{\"u\":13,\"t\":1625205204582,\"m\":\"Anyways\"},\"860398541376847893\":{\"u\":13,\"t\":1625205397696,\"m\":\"the clarity_g\"},\"860398595962699816\":{\"u\":13,\"t\":1625205410710,\"m\":\"He said he had the zip file\",\"te\":1625205415012},\"860402567233798145\":{\"u\":7,\"t\":1625206357535,\"m\":\"lets see if this works\"},\"860402588985589770\":{\"u\":14,\"t\":1625206362721,\"m\":\"hello\",\"r\":\"860402579526647809\"},\"860404158037098531\":{\"u\":7,\"t\":1625206736812,\"m\":\"ehh\"},\"860405007459287040\":{\"u\":7,\"t\":1625206939330,\"m\":\"test\"},\"860405700551376926\":{\"u\":7,\"t\":1625207104576,\"m\":\"xapier didn\\u0027t work\"},\"860405717253357618\":{\"u\":7,\"t\":1625207108558,\"m\":\"guess i\\u0027m pulling out vs code\"},\"860408074946215936\":{\"u\":7,\"t\":1625207670676,\"m\":\"who\"},\"860408131422650399\":{\"u\":7,\"t\":1625207684141,\"m\":\"clarity?\"},\"860408167506771988\":{\"u\":7,\"t\":1625207692744,\"m\":\"send me his tag\"},\"860409447113687075\":{\"u\":7,\"t\":1625207997826,\"m\":\"i know one doesn\\u0027t, 5CupsOfCoffee\"},\"860409485507952641\":{\"u\":7,\"t\":1625208006980,\"m\":\"at least, he didn\\u0027t join via rin\"},\"860409563634335794\":{\"u\":7,\"t\":1625208025607,\"m\":\"I\\u0027m an admin of a semi-popular piracy server, and so is he\"},\"860409619117899796\":{\"u\":7,\"t\":1625208038835,\"m\":\"used to be popular, until discord took it down\"},\"860409626923106335\":{\"u\":7,\"t\":1625208040696,\"m\":\"twice\"},\"860411056836706334\":{\"u\":13,\"t\":1625208381614,\"m\":\"What was the server you moderated?\"},\"860411086791376936\":{\"u\":7,\"t\":1625208388756,\"m\":\"\\u0022Digital Database\\u0022\"},\"860411146775691294\":{\"u\":7,\"t\":1625208403057,\"m\":\"basically talking about anything\"},\"860411171059007488\":{\"u\":13,\"t\":1625208408847,\"m\":\"Oh\"},\"860411545447563265\":{\"u\":7,\"t\":1625208498108,\"m\":\"the server I moderate now is, unfortunately, \\u0022Digital Database III\\u0022\"},\"860411641346392064\":{\"u\":7,\"t\":1625208520972,\"m\":\"because one of the admins gave a dmca as a joke\"},\"860411681071300608\":{\"u\":7,\"t\":1625208530443,\"m\":\"and Discord actually took action\"},\"860412454361759754\":{\"u\":9,\"t\":1625208714810,\"m\":\"yes\",\"r\":\"860397299934429224\"},\"860412569164840970\":{\"u\":7,\"t\":1625208742181,\"m\":\"currently downloading 2.1.0 as we speak\",\"re\":[{\"id\":\"853170358395731968\",\"n\":\"2b17a3b6ca674d2ca9b9a07b6fe582a9\",\"a\":true,\"c\":2}]},\"860412795787280384\":{\"u\":7,\"t\":1625208796212,\"m\":\"and it\\u0027s in \\u003C#840262049765392455\\u003E\"},\"860413068520194078\":{\"u\":7,\"t\":1625208861237,\"m\":\"downloaded\"},\"860413423565406258\":{\"u\":7,\"t\":1625208945886,\"m\":\"\\u003C@!175594692237328384\\u003E new version, you can find it in \\u003C#840262049765392455\\u003E\",\"te\":1625208974193},\"860413486470397962\":{\"u\":7,\"t\":1625208960884,\"m\":\"hopefully this won\\u0027t be really hard to crack\"},\"860415357596729344\":{\"u\":13,\"t\":1625209406995,\"m\":\"Did you make a new account?\",\"r\":\"860412454361759754\"},\"860415406380679179\":{\"u\":7,\"t\":1625209418626,\"m\":\"his friend gave him the zip file\"},\"860415458817343519\":{\"u\":7,\"t\":1625209431128,\"m\":\"as long as said friend remains anonymous, we are fine\"},\"860416824805294090\":{\"u\":13,\"t\":1625209756805,\"m\":\"Good\"},\"860416859659960340\":{\"u\":13,\"t\":1625209765115,\"m\":\"How long might it take\"},\"860417034886316053\":{\"u\":7,\"t\":1625209806892,\"m\":\"depends on how much drm they put into peacock\"},\"860452734477664256\":{\"u\":7,\"t\":1625218318338,\"m\":\"hello\"},\"860452859731771412\":{\"u\":7,\"t\":1625218348201,\"m\":\"everyone that talked once\"},\"860452906092593183\":{\"u\":7,\"t\":1625218359254,\"m\":\"ne and shadow are kinda sus \\u003C:amogus:823332206810365962\\u003E\"},\"860452940380766229\":{\"u\":11,\"t\":1625218367429,\"m\":\"Does anyone has any version of hitman?\"},\"860452985591037982\":{\"u\":11,\"t\":1625218378208,\"m\":\"2016/hitman 2 / hitman 3?\"},\"860453000853454848\":{\"u\":7,\"t\":1625218381847,\"m\":\"use the hitman 3 starter pack from Epic Games\",\"r\":\"860452940380766229\"},\"860453027672883211\":{\"u\":7,\"t\":1625218388241,\"m\":\"then go offline\"},\"860453039098036224\":{\"u\":7,\"t\":1625218390965,\"m\":\"you get the full game\"},\"860453347990175765\":{\"u\":7,\"t\":1625218464611,\"m\":\"I have the starter pack \\u002B the hitman 1 goty bundle\"},\"860453400932253727\":{\"u\":7,\"t\":1625218477233,\"m\":\"however, the starter pack contains the entire game\"},\"860453438479663111\":{\"u\":7,\"t\":1625218486185,\"m\":\"it just locks you from playing it\"},\"860456848448159744\":{\"u\":9,\"t\":1625219299185,\"m\":\"so u apply the crack?\",\"r\":\"860453438479663111\"},\"860458462600626236\":{\"u\":7,\"t\":1625219684029,\"m\":\"yes\"},\"860458486936633355\":{\"u\":7,\"t\":1625219689831,\"m\":\"or you get the entitlement files from rin\"},\"860458674273910784\":{\"u\":7,\"t\":1625219734496,\"m\":\"then make a bat file with this:\\n\\n\\u0060\\u0060\\u0060bat\\n@echo off\\nHITMAN3.exe -EpicPortal -epicusername=\\u003Cusername\\u003E -epicuserid=\\u003Cinsert user id\\u003E\\n\\u0060\\u0060\\u0060\"},\"860460039436894218\":{\"u\":6,\"t\":1625220059976,\"m\":\"Should i change my nickname to the one i use on rin?\"},\"860460108483133440\":{\"u\":7,\"t\":1625220076438,\"m\":\"sure\"},\"860460118315368468\":{\"u\":6,\"t\":1625220078782,\"m\":\"ok\"},\"860460165115150356\":{\"u\":7,\"t\":1625220089940,\"m\":\"so i have big news\"},\"860460320266780692\":{\"u\":7,\"t\":1625220126931,\"m\":\"i can\\u0027t tell the news\"},\"860460350020517888\":{\"u\":7,\"t\":1625220134025,\"m\":\"but it\\u0027s big\"},\"860460401370857472\":{\"u\":7,\"t\":1625220146268,\"m\":\"that is all\"},\"860460438298165278\":{\"u\":1,\"t\":1625220155072,\"m\":\"i sent the guy who makes peacock an entire list of instructions to make peacock way harder to crack\"},\"860460445898768395\":{\"u\":6,\"t\":1625220156884,\"m\":\"are the news good or bad\"},\"860460469987180544\":{\"u\":6,\"t\":1625220162627,\"m\":\"lmao\",\"r\":\"860460438298165278\"},\"860460493285621770\":{\"u\":1,\"t\":1625220168182,\"m\":\"he didnt do anything lol\"},\"860460587058200576\":{\"u\":6,\"t\":1625220190539,\"m\":\"i cant change my nick for some reason\"},\"860460755308118028\":{\"u\":7,\"t\":1625220230653,\"m\":\"fixed\",\"r\":\"860460587058200576\"},\"860461454418378772\":{\"u\":6,\"t\":1625220397334,\"m\":\"good or bad big news?\"},\"860461708802523156\":{\"u\":7,\"t\":1625220457984,\"m\":\"i need to send you to an alt server to talk about this\"},\"860461769943023656\":{\"u\":6,\"t\":1625220472561,\"m\":\"ok\"},\"860465657665421352\":{\"u\":1,\"t\":1625221399466,\"m\":\"huh\"},\"860467526017220648\":{\"u\":13,\"t\":1625221844916,\"m\":\"I know you\\u0027re toying with him, but let\\u0027s focus. How\\u0027s the progress?\",\"r\":\"860460493285621770\"},\"860468693539225601\":{\"u\":7,\"t\":1625222123275,\"m\":\"couldn\\u0027t be better in distribution side\"},\"860473430208806912\":{\"u\":13,\"t\":1625223252585,\"m\":\"Can you send me to the alt server? Really wanna know what\\u0027s the progress is.\",\"r\":\"860468693539225601\"},\"860474950242533398\":{\"u\":1,\"t\":1625223614989,\"m\":\"actually not lol\",\"r\":\"860467526017220648\"},\"860480671332302858\":{\"u\":1,\"t\":1625224979003,\"m\":\"i need to update my hitman version\"},\"860509224714108970\":{\"u\":1,\"t\":1625231786660,\"m\":\"how does one create a custom contract in Hitman 3?\"},\"860512971184799744\":{\"u\":6,\"t\":1625232679888,\"m\":\"custom contract meaning custom mission?\",\"r\":\"860509224714108970\"},\"860513450890231829\":{\"u\":1,\"t\":1625232794259,\"m\":\"yes\"},\"860513465919602708\":{\"u\":1,\"t\":1625232797842,\"m\":\"i found it by the way\"},\"860717766570147850\":{\"u\":4,\"t\":1625281506913,\"m\":\"!clear 2\"},\"860717767941423134\":{\"u\":0,\"t\":1625281507240,\"m\":\"\\u003C:XMARK6:403540169992568833\\u003E **gear**, you can\\u0027t use that.\"},\"860717780377796608\":{\"u\":15,\"t\":1625281510205,\"m\":\"what just happened\"},\"860717806924726272\":{\"u\":4,\"t\":1625281516534,\"m\":\"i had to delete those\"},\"860717817593856000\":{\"u\":7,\"t\":1625281519078,\"m\":\"had to clear some stuff out\"},\"860717842390581268\":{\"u\":15,\"t\":1625281524990,\"m\":\"huh\"},\"860718403391586306\":{\"u\":4,\"t\":1625281658743,\"m\":\"!ban \\u003C@!296102364073558017\\u003E\"},\"860718405225152532\":{\"u\":0,\"t\":1625281659180,\"m\":\"\\u003C:XMARK6:403540169992568833\\u003E **gear**, you can\\u0027t use that.\"},\"860718455418519553\":{\"u\":7,\"t\":1625281671147,\"m\":\"wtf\"},\"860722818307457045\":{\"u\":13,\"t\":1625282711341,\"m\":\"You banned Rdil?\"},\"860722862128889866\":{\"u\":7,\"t\":1625282721789,\"m\":\"he left himself\",\"te\":1625282725903},\"860722886511689739\":{\"u\":13,\"t\":1625282727602,\"m\":\"Oh\"},\"860726781676879882\":{\"u\":13,\"t\":1625283656282,\"m\":\"No 7 deadly sins escalations? Boring.\"},\"860726878423744553\":{\"u\":15,\"t\":1625283679348,\"m\":\"for what\"},\"860727077816893460\":{\"u\":15,\"t\":1625283726887,\"m\":\"a friend who really likes this game told me it wasn\\u0027t fun for her\"},\"860730462510514186\":{\"u\":7,\"t\":1625284533861,\"m\":\"i\\u0027ve noticed that the peacock server doesn\\u0027t show the cutscenes\"},\"860797976438898698\":{\"u\":11,\"t\":1625300630436,\"m\":\"They had removed the cutscenes from campaigns\",\"r\":\"860730462510514186\"},\"860811262144282635\":{\"u\":13,\"t\":1625303797995,\"m\":\"Not really, you can see them after the mission completes. But you can\\u0027t see them individually.\"},\"860824291321839626\":{\"u\":11,\"t\":1625306904393,\"m\":\"It was removed as a part of the last update, however after a quick poll it was decided to add it back. The thing I dont know is if it was to be added in this or the next update\"},\"860922376640397322\":{\"u\":15,\"t\":1625330289755,\"m\":\"its been that way since the beginning\",\"r\":\"860824291321839626\"},\"861041794002321448\":{\"u\":13,\"t\":1625358761073,\"m\":\"Aren\\u0027t many escalations in it, Offline mod had a lot tho.\"},\"861116304764043274\":{\"u\":5,\"t\":1625376525823,\"m\":\"this is my server ok.\"},\"861116310926393364\":{\"u\":5,\"t\":1625376527292,\"m\":\"ok\"},\"861116736245465131\":{\"u\":7,\"t\":1625376628696,\"m\":\"spamming in dm\\u0027s\"},\"861172669679271936\":{\"u\":13,\"t\":1625389964266,\"m\":\"@BRICKMANE#6107\"},\"861172703155322881\":{\"u\":13,\"t\":1625389972247,\"m\":\"Bruh, bots these days\"},\"861172749263437855\":{\"u\":7,\"t\":1625389983240,\"m\":\"what is happen\"},\"863202324414201886\":{\"u\":1,\"t\":1625873871664,\"m\":\"somebody asked me for a legitimate version of peacock\"},\"863202365930340383\":{\"u\":1,\"t\":1625873881562,\"m\":\"does anyone know where to find the discord\"},\"863202412869451786\":{\"u\":1,\"t\":1625873892753,\"m\":\"so that i may direct them there\"},\"863202489732825129\":{\"u\":7,\"t\":1625873911079,\"m\":\"what\\u0027s his tag\"},\"863202709728395264\":{\"u\":7,\"t\":1625873963530,\"m\":\"alright\"},\"863202757817139230\":{\"u\":7,\"t\":1625873974995,\"m\":\"had to remove so no one dm\\u0027ed him \\u0022what\\u0027s the link?\\u0022\"},\"863202771678003230\":{\"u\":1,\"t\":1625873978300,\"m\":\"lol ok\"},\"863202937056657449\":{\"u\":7,\"t\":1625874017729,\"m\":\"bruh\"},\"863203512112381962\":{\"u\":7,\"t\":1625874154833,\"m\":\"well, he already got a link\"},\"863203517824106526\":{\"u\":7,\"t\":1625874156195,\"m\":\"lol\"},\"863698172487532564\":{\"u\":7,\"t\":1625992091057,\"m\":\"so here\\u0027s news\"},\"863698239168839741\":{\"u\":7,\"t\":1625992106955,\"m\":\"i\\u0027m working on getting h1, h2 and h3 legit\"},\"863698312951627806\":{\"u\":7,\"t\":1625992124546,\"m\":\"after that, idk\"},\"863698482833391626\":{\"u\":7,\"t\":1625992165049,\"m\":\"most likely i\\u0027ll stay active\"},\"863882347778539520\":{\"u\":6,\"t\":1626036001868,\"m\":\"why\",\"r\":\"863698239168839741\"},\"871903250595606568\":{\"u\":13,\"t\":1627948334121,\"m\":\"Some dude has the updated version on rin\"},\"871903634164682832\":{\"u\":7,\"t\":1627948425571,\"m\":\"already sent to DenialMC\"},\"871903645812285500\":{\"u\":7,\"t\":1627948428348,\"m\":\"via dm\\u0027s\"},\"872060845595721728\":{\"u\":7,\"t\":1627985907697,\"m\":\"alright, so I have an idea\"},\"872060868119134268\":{\"u\":7,\"t\":1627985913067,\"m\":\"what about a proxy\"},\"872060926361231391\":{\"u\":7,\"t\":1627985926953,\"m\":\"that gets menu data from the Hitman servers\"},\"872060977233932318\":{\"u\":7,\"t\":1627985939082,\"m\":\"then modifies it\"},\"872061013753741362\":{\"u\":7,\"t\":1627985947789,\"m\":\"to let Starter Pack users access it\"},\"872061068866879528\":{\"u\":7,\"t\":1627985960929,\"m\":\"regardless of actual access\"},\"873804144291487825\":{\"u\":13,\"t\":1628401542495,\"m\":\"Codex v3.50 working for anyone?\"},\"873804217062658049\":{\"u\":7,\"t\":1628401559845,\"m\":\"idk, i don\\u0027t use codex\"},\"873804303041695744\":{\"u\":13,\"t\":1628401580344,\"m\":\"It\\u0027s weird, just doesn\\u0027t boot up at all\"},\"873804372277080074\":{\"u\":7,\"t\":1628401596851,\"m\":\"try changing the epic account ID\",\"te\":1628401604463},\"873804442397450321\":{\"u\":7,\"t\":1628401613569,\"m\":\"because I think they blocked the default\"},\"873804625629814824\":{\"u\":13,\"t\":1628401657255,\"m\":\"Still doesn\\u0027t work\"},\"873804650690781184\":{\"u\":7,\"t\":1628401663230,\"m\":\"well then\"},\"873804682798174328\":{\"u\":13,\"t\":1628401670885,\"m\":\"Worked once, but didn\\u0027t after that\"},\"878565096811540491\":{\"u\":1,\"t\":1629536642030,\"m\":\"anyone have the latest version for 3.50?\"},\"878577967977074708\":{\"u\":13,\"t\":1629539710755,\"m\":\"Ask on rin prob\"},\"878599385771016192\":{\"u\":7,\"t\":1629544817155,\"m\":\"I think the cracked versions have something wrong with saving\"},\"878599458328309821\":{\"u\":7,\"t\":1629544834454,\"m\":\"since everyone is complaining about that on rin\"},\"878602625287847937\":{\"u\":11,\"t\":1629545589516,\"m\":\"That bug is present in peacock from the start, saving/loading is unstable, If you save/load you cant get 5 star silent assassin etc\",\"te\":1629546337173},\"878602658032783360\":{\"u\":7,\"t\":1629545597323,\"m\":\"alright\"},\"878603681803665478\":{\"u\":11,\"t\":1629545841409,\"m\":\"..version 3.0.0 has the experimental fix implemented\"},\"878603706336161792\":{\"u\":7,\"t\":1629545847258,\"m\":\"oh\"},\"878603710400438324\":{\"u\":7,\"t\":1629545848227,\"m\":\"cool\"},\"878603719753760779\":{\"u\":7,\"t\":1629545850457,\"m\":\"now we wait\"},\"880483641526984775\":{\"u\":11,\"t\":1629994058735,\"m\":\"DenialMC can choose if you want to release v3.0.0 or wait for a new version\"},\"880486628970336296\":{\"u\":1,\"t\":1629994770997,\"m\":\"waiting for a new version\"},\"880919772055863306\":{\"u\":10,\"t\":1630098040356,\"m\":\"shit\"},\"880919773993664543\":{\"u\":10,\"t\":1630098040818,\"m\":\"shit\"},\"880919777458130964\":{\"u\":10,\"t\":1630098041644,\"m\":\"shit\"},\"880919780117315644\":{\"u\":10,\"t\":1630098042278,\"m\":\"shit\"},\"880919816918171670\":{\"u\":10,\"t\":1630098051052,\"m\":\"got banned from Discord\"},\"880925157869379585\":{\"u\":10,\"t\":1630099324434,\"m\":\"and I can\\u0027t get ownership back\"},\"881150450114625577\":{\"u\":13,\"t\":1630153038291,\"m\":\"How?\",\"te\":1630153207479,\"r\":\"880919816918171670\"},\"881151266930167809\":{\"u\":13,\"t\":1630153233035,\"m\":\"If you\\u0027re not able to get the ownership back, make a new server and ditch this.\"},\"881291387126034492\":{\"u\":13,\"t\":1630186640293,\"m\":\"\\u003C@!759266953323479062\\u003E How\\u0027d you get banned tho?\"},\"881291481518854174\":{\"u\":10,\"t\":1630186662798,\"m\":\"no email given\"},\"881291538896932954\":{\"u\":13,\"t\":1630186676478,\"m\":\"Thats the reason?\"},\"881291559331586078\":{\"u\":10,\"t\":1630186681350,\"m\":\"as in\"},\"881291571100786730\":{\"u\":13,\"t\":1630186684156,\"m\":\"They ban you for that?\"},\"881291576092020746\":{\"u\":10,\"t\":1630186685346,\"m\":\"Discord never sent me an email\"},\"881291741259526185\":{\"u\":13,\"t\":1630186724725,\"m\":\"You got banned cause you never got an email?\"},\"881291764441448488\":{\"u\":10,\"t\":1630186730252,\"m\":\"no\"},\"881291788927787109\":{\"u\":10,\"t\":1630186736090,\"m\":\"I have my email tied to my account\"},\"881291802953519164\":{\"u\":10,\"t\":1630186739434,\"m\":\"they never sent me an email\"},\"881291815469334588\":{\"u\":10,\"t\":1630186742418,\"m\":\"as to why I was banned\"},\"881291837657202748\":{\"u\":13,\"t\":1630186747708,\"m\":\"Oh\"},\"881292028569321513\":{\"u\":13,\"t\":1630186793225,\"m\":\"That sucks, any thing u think could be the reason?\"},\"881292163806269490\":{\"u\":10,\"t\":1630186825468,\"m\":\"people have contacted me saying they were banned too, and we were all in the same server\"},\"881292284904226826\":{\"u\":13,\"t\":1630186854340,\"m\":\"Probably a piracy crackdown.\"},\"881292594645176421\":{\"u\":10,\"t\":1630186928188,\"m\":\"probably\"},\"881351373994721290\":{\"u\":13,\"t\":1630200942277,\"m\":\"Which server was it tho?\"},\"884123956347559957\":{\"u\":11,\"t\":1630861977422,\"m\":\"Peacock 3.1.0 released on rin\"},\"884124334711533629\":{\"u\":10,\"t\":1630862067631,\"a\":[{\"url\":\"https://cdn.discordapp.com/attachments/840269597688332348/884124334526971964/Z.png\"}]},\"884138996307992666\":{\"u\":10,\"t\":1630865563228,\"m\":\"did they just directly call us out\",\"a\":[{\"url\":\"https://cdn.discordapp.com/attachments/840269597688332348/884138995938918451/unknown.png\"}]},\"884139112607678554\":{\"u\":1,\"t\":1630865590956,\"m\":\"i dont think that\\u0027s on purpose :DD\"},\"884141926155165757\":{\"u\":1,\"t\":1630866261758,\"m\":\"https://gitlab.com/grappigegovert/localghost/-/merge_requests/14\",\"e\":[\"{\\u0022url\\u0022:\\u0022https://gitlab.com/grappigegovert/localghost/-/merge_requests/14\\u0022,\\u0022type\\u0022:\\u0022link\\u0022,\\u0022title\\u0022:\\u0022Fix crucial issue that prevents operation of the patcher (!14) \\u00B7 Me...\\u0022,\\u0022description\\u0022:\\u0022For months now, the patcher has had a serious fault that has prevented it from reaching it\\u0027s true capacity. Its destiny if you will. This pull request fixes...\\u0022,\\u0022provider\\u0022:{\\u0022name\\u0022:\\u0022GitLab\\u0022},\\u0022color\\u0022:\\u0022hsl(240, calc(var(--saturation-factor, 1) * 40.6%), 27.1%)\\u0022,\\u0022thumbnail\\u0022:{\\u0022url\\u0022:\\u0022https://gitlab.com/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png\\u0022,\\u0022proxyURL\\u0022:\\u0022https://images-ext-1.discordapp.net/external/aduYJmqvc29xMiXuP8l9MXYcKHG-DZEN4kbt-7SOdfc/https/gitlab.com/assets/gitlab_logo-7ae504fe4f68fdebb3c2034e36621930cd36ea87924c11ff65dbcb8ed50dca58.png\\u0022,\\u0022width\\u0022:64,\\u0022height\\u0022:64}}\"]},\"884142207551012874\":{\"u\":10,\"t\":1630866328848,\"m\":\"lmao\"},\"884157126874914816\":{\"u\":11,\"t\":1630869885892,\"m\":\"Oh yes,  some of those community escalations are  good, do try them all\",\"r\":\"884138996307992666\"},\"884157743513100378\":{\"u\":11,\"t\":1630870032910,\"m\":\"And in game mode\\u003E contracts\\u003E featured contracts there are some selected featured contracts from the official servers\"},\"885351847697715201\":{\"u\":10,\"t\":1631154729533,\"m\":\"there\\u0027s this discord alternative called Guilded\"},\"885352041386479727\":{\"u\":10,\"t\":1631154775712,\"m\":\"it\\u0027s owned by Roblox, which is notorious for the most double standard moderation\"},\"885352447835512832\":{\"u\":10,\"t\":1631154872617,\"m\":\"they outsource their mods from countries where piracy is basically second nature\"},\"886473173401468928\":{\"u\":13,\"t\":1631422074414,\"m\":\"Awesome, my ISP finally blocked Cs.rin.ru\",\"te\":1631422079003},\"886473220222517320\":{\"u\":13,\"t\":1631422085577,\"m\":\"Now I gotta use a vpn\"},\"886720591942549575\":{\"u\":10,\"t\":1631481063591,\"m\":\"I think i\\u0027m transitioning to Guilded\"},\"886720667704258653\":{\"u\":10,\"t\":1631481081654,\"m\":\"since the chances of my Discord being reinstated are 0\"},\"886768753688330260\":{\"u\":10,\"t\":1631492546246,\"m\":\"https://guilded.gg/h3cracking\",\"e\":[\"{\\u0022url\\u0022:\\u0022https://guilded.gg/h3cracking\\u0022,\\u0022type\\u0022:\\u0022link\\u0022,\\u0022title\\u0022:\\u0022Hitman 3 Cracking - Guilded\\u0022,\\u0022description\\u0022:\\u0022Founded 09-12-2021 by abc\\u0022,\\u0022provider\\u0022:{\\u0022name\\u0022:\\u0022Guilded - Chat for Gaming Communities\\u0022},\\u0022color\\u0022:\\u0022hsl(48, calc(var(--saturation-factor, 1) * 100%), 48%)\\u0022,\\u0022thumbnail\\u0022:{\\u0022url\\u0022:\\u0022https://s3-us-west-2.amazonaws.com/www.guilded.gg/TeamAvatar/f9e5bf99dec7e878f873b2d243cf900a-Large.png?w=450\\u0026h=450\\u0022,\\u0022proxyURL\\u0022:\\u0022https://images-ext-1.discordapp.net/external/iHg5qgoxf_IhOOs6HkbXfSeIphyDSZLyPQUXoUxXRPA/%3Fw%3D450%26h%3D450/https/s3-us-west-2.amazonaws.com/www.guilded.gg/TeamAvatar/f9e5bf99dec7e878f873b2d243cf900a-Large.png\\u0022,\\u0022width\\u0022:450,\\u0022height\\u0022:450}}\"]}},\"840299914952048681\":{\"860422331812544532\":{\"u\":13,\"t\":1625211069778,\"m\":\"Hitman 2016 can be run online?\"},\"860422339242229770\":{\"u\":13,\"t\":1625211071549,\"m\":\"What?\"},\"860422374502563840\":{\"u\":7,\"t\":1625211079956,\"m\":\"i heard there was a way\"},\"860422430123622410\":{\"u\":13,\"t\":1625211093217,\"m\":\"Did it work for you?\"},\"860422463581061121\":{\"u\":7,\"t\":1625211101194,\"m\":\"didn\\u0027t try it\"},\"860422486016917544\":{\"u\":13,\"t\":1625211106543,\"m\":\"Ah\"},\"860422521757237248\":{\"u\":7,\"t\":1625211115064,\"m\":\"i feel like ioi patched it tho\"},\"860422552181932052\":{\"u\":13,\"t\":1625211122318,\"m\":\"Yeah\"},\"860422601251356682\":{\"u\":7,\"t\":1625211134017,\"m\":\"and even then, it\\u0027s kinda useless given hitman 3\"},\"860422739680428034\":{\"u\":13,\"t\":1625211167021,\"m\":\"Can we post screenshots tho?\"},\"860422776514936853\":{\"u\":13,\"t\":1625211175803,\"m\":\"Game screenshot?\"},\"860422820458397706\":{\"u\":7,\"t\":1625211186280,\"m\":\"yea\"},\"860474788786601994\":{\"u\":13,\"t\":1625223576495,\"a\":[{\"url\":\"https://cdn.discordapp.com/attachments/840299914952048681/860474786018492436/HITMAN_3_6_1_2021_8_33_59_PM.png\"}]}},\"840299899206762516\":{\"860688500592738305\":{\"u\":13,\"t\":1625274529360,\"m\":\"Imagine Absolution being online\"}},\"840298701367803954\":{\"860718161480515584\":{\"u\":0,\"t\":1625281601067,\"m\":\"\\u003C:XMARK6:403540169992568833\\u003E **gear**, you can\\u0027t use that.\"}}}}";
		document.addEventListener("DOMContentLoaded", () => {
	DISCORD.setup();
	GUI.setup();
	
	GUI.onOptionMessagesPerPageChanged(() => {
		STATE.setMessagesPerPage(GUI.getOptionMessagesPerPage());
	});
	
	STATE.setMessagesPerPage(GUI.getOptionMessagesPerPage());
	
	GUI.onOptMessageFilterChanged(filter => {
		STATE.setActiveFilter(filter);
	});
	
	GUI.onNavigationButtonClicked(action => {
		STATE.updateCurrentPage(action);
	});
	
	STATE.onUsersRefreshed(users => {
		GUI.updateUserList(users);
	});
	
	STATE.onChannelsRefreshed((channels, selected) => {
		GUI.updateChannelList(channels, selected, STATE.selectChannel);
	});
	
	STATE.onMessagesRefreshed(messages => {
		GUI.updateNavigation(STATE.getCurrentPage(), STATE.getPageCount());
		GUI.updateMessageList(messages);
		GUI.scrollMessagesToTop();
	});
	
	try {
		STATE.uploadFile(JSON.parse(window.DHT_EMBEDDED));
	} catch (e) {
		console.error(e);
		alert("Could not parse embedded file, see console for details.");
	}
});

const DISCORD = (function() {
	const regex = {
		formatBold: /\*\*([\s\S]+?)\*\*(?!\*)/g,
		formatItalic: /(.)?\*([\s\S]+?)\*(?!\*)/g,
		formatUnderline: /__([\s\S]+?)__(?!_)/g,
		formatStrike: /~~([\s\S]+?)~~(?!~)/g,
		formatCodeInline: /(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/g,
		formatCodeBlock: /```(?:([A-z0-9\-]+?)\n+)?\n*([^]+?)\n*```/g,
		formatUrl: /(\b(?:https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,
		formatUrlNoEmbed: /<(\b(?:https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])>/ig,
		specialEscapedBacktick: /\\`/g,
		specialEscapedSingle: /\\([*\\])/g,
		specialEscapedDouble: /\\__|_\\_|\\_\\_|\\~~|~\\~|\\~\\~/g,
		specialUnescaped: /([*_~\\])/g,
		mentionRole: /&lt;@&(\d+?)&gt;/g,
		mentionUser: /&lt;@!?(\d+?)&gt;/g,
		mentionChannel: /&lt;#(\d+?)&gt;/g,
		customEmojiStatic: /&lt;:([^:]+):(\d+?)&gt;/g,
		customEmojiAnimated: /&lt;a:([^:]+):(\d+?)&gt;/g
	};
	
	let templateChannelServer;
	let templateChannelPrivate;
	let templateMessageNoAvatar;
	let templateMessageWithAvatar;
	let templateUserAvatar;
	let templateAttachmentDownload;
	let templateEmbedImage;
	let templateEmbedRich;
	let templateEmbedRichNoDescription;
	let templateEmbedUrl;
	let templateEmbedUnsupported;
	let templateReaction;
	let templateReactionCustom;
	
	const processMessageContents = function(contents) {
		let processed = DOM.escapeHTML(contents.replace(regex.formatUrlNoEmbed, "$1"));
		
		if (SETTINGS.enableFormatting) {
			const escapeHtmlMatch = (full, match) => "&#" + match.charCodeAt(0) + ";";
			
			processed = processed
				.replace(regex.specialEscapedBacktick, "&#96;")
				.replace(regex.formatCodeBlock, (full, ignore, match) => "<code class='block'>" + match.replace(regex.specialUnescaped, escapeHtmlMatch) + "</code>")
				.replace(regex.formatCodeInline, (full, ignore, match) => "<code class='inline'>" + match.replace(regex.specialUnescaped, escapeHtmlMatch) + "</code>")
				.replace(regex.specialEscapedSingle, escapeHtmlMatch)
				.replace(regex.specialEscapedDouble, full => full.replace(/\\/g, "").replace(/(.)/g, escapeHtmlMatch))
				.replace(regex.formatBold, "<b>$1</b>")
				.replace(regex.formatItalic, (full, pre, match) => pre === "\\" ? full : (pre || "") + "<i>" + match + "</i>")
				.replace(regex.formatUnderline, "<u>$1</u>")
				.replace(regex.formatStrike, "<s>$1</s>");
		}
		
		const animatedEmojiExtension = SETTINGS.enableAnimatedEmoji ? "gif" : "png";
		
		// noinspection HtmlUnknownTarget
		processed = processed
			.replace(regex.formatUrl, "<a href='$1' target='_blank' rel='noreferrer'>$1</a>")
			.replace(regex.mentionChannel, (full, match) => "<span class='link mention-chat'>#" + STATE.getChannelName(match) + "</span>")
			.replace(regex.mentionUser, (full, match) => "<span class='link mention-user' title='#" + (STATE.getUserTag(match) || "????") + "'>@" + STATE.getUserName(match) + "</span>")
			.replace(regex.customEmojiStatic, "<img src='https://cdn.discordapp.com/emojis/$2.png' alt=':$1:' title=':$1:' class='emoji'>")
			.replace(regex.customEmojiAnimated, "<img src='https://cdn.discordapp.com/emojis/$2." + animatedEmojiExtension + "' alt=':$1:' title=':$1:' class='emoji'>");
		
		return "<p>" + processed + "</p>";
	};
	
	return {
		setup() {
			templateChannelServer = new TEMPLATE([
				"<div data-channel='{id}'>",
				"<div class='info' title='{topic}'><strong class='name'>#{name}</strong>{nsfw}<span class='tag'>{msgcount}</span></div>",
				"<span class='server'>{server.name} ({server.type})</span>",
				"</div>"
			].join(""));
			
			templateChannelPrivate = new TEMPLATE([
				"<div data-channel='{id}'>",
				"<div class='info'><strong class='name'>{name}</strong><span class='tag'>{msgcount}</span></div>",
				"<span class='server'>({server.type})</span>",
				"</div>"
			].join(""));
			
			templateMessageNoAvatar = new TEMPLATE([
				"<div>",
				"<div class='reply-message'>{reply}</div>",
				"<h2><strong class='username' title='#{user.tag}'>{user.name}</strong><span class='info time'>{timestamp}</span>{edit}{jump}</h2>",
				"<div class='message'>{contents}{embeds}{attachments}</div>",
				"{reactions}",
				"</div>"
			].join(""));
			
			templateMessageWithAvatar = new TEMPLATE([
				"<div>",
				"<div class='reply-message reply-message-with-avatar'>{reply}</div>",
				"<div class='avatar-wrapper'>",
				"<div class='avatar'>{avatar}</div>",
				"<div>",
				"<h2><strong class='username' title='#{user.tag}'>{user.name}</strong><span class='info time'>{timestamp}</span>{edit}{jump}</h2>",
				"<div class='message'>{contents}{embeds}{attachments}</div>",
				"{reactions}",
				"</div>",
				"</div>",
				"</div>"
			].join(""));
			
			templateUserAvatar = new TEMPLATE([
				"<img src='https://cdn.discordapp.com/avatars/{id}/{path}.webp?size=128' alt=''>"
			].join(""));
			
			// noinspection HtmlUnknownTarget
			templateAttachmentDownload = new TEMPLATE([
				"<a href='{url}' class='embed download'>Download {filename}</a>"
			].join(""));
			
			// noinspection HtmlUnknownTarget
			templateEmbedImage = new TEMPLATE([
				"<a href='{url}' class='embed thumbnail'><img src='{src}' alt='(image attachment not found)'></a><br>"
			].join(""));
			
			// noinspection HtmlUnknownTarget
			templateEmbedRich = new TEMPLATE([
				"<div class='embed download'><a href='{url}' class='title'>{title}</a><p class='desc'>{description}</p></div>"
			].join(""));
			
			// noinspection HtmlUnknownTarget
			templateEmbedRichNoDescription = new TEMPLATE([
				"<div class='embed download'><a href='{url}' class='title'>{title}</a></div>"
			].join(""));
			
			// noinspection HtmlUnknownTarget
			templateEmbedUrl = new TEMPLATE([
				"<a href='{url}' class='embed download'>{url}</a>"
			].join(""));
			
			templateEmbedUnsupported = new TEMPLATE([
				"<div class='embed download'><p>(Unsupported embed)</p></div>"
			].join(""));
			
			templateReaction = new TEMPLATE([
				"<span class='reaction-wrapper'><span class='reaction-emoji'>{n}</span><span class='count'>{c}</span></span>"
			].join(""));
			
			templateReactionCustom = new TEMPLATE([
				"<span class='reaction-wrapper'><img src='https://cdn.discordapp.com/emojis/{id}.{ext}' alt=':{n}:' title=':{n}:' class='reaction-emoji-custom'><span class='count'>{c}</span></span>"
			].join(""));
		},
		
		isImageAttachment(attachment) {
			const dot = attachment.url.lastIndexOf(".");
			const ext = dot === -1 ? "" : attachment.url.substring(dot).toLowerCase();
			return ext === ".png" || ext === ".gif" || ext === ".jpg" || ext === ".jpeg";
		},
		
		getChannelHTML(channel) { // noinspection FunctionWithInconsistentReturnsJS
			return (channel.server.type === "server" ? templateChannelServer : templateChannelPrivate).apply(channel, (property, value) => {
				if (property === "nsfw") {
					return value ? "<span class='tag'>NSFW</span>" : "";
				}
			});
		},
		
		getMessageHTML(message) { // noinspection FunctionWithInconsistentReturnsJS
			return (SETTINGS.enableUserAvatars ? templateMessageWithAvatar : templateMessageNoAvatar).apply(message, (property, value) => {
				if (property === "avatar") {
					return value ? templateUserAvatar.apply(value) : "";
				}
				else if (property === "user.tag") {
					return value ? value : "????";
				}
				else if (property === "timestamp") {
					return DOM.getHumanReadableTime(value);
				}
				else if (property === "contents") {
					return value && value.length > 0 ? processMessageContents(value) : "";
				}
				else if (property === "embeds") {
					if (!value) {
						return "";
					}
					
					return value.map(embed => {
						if (!embed.url) {
							return templateEmbedUnsupported.apply(embed);
						}
						else if ("image" in embed && embed.image.url) {
							return SETTINGS.enableImagePreviews ? templateEmbedImage.apply({ url: embed.url, src: embed.image.url }) : "";
						}
						else if ("thumbnail" in embed && embed.thumbnail.url) {
							return SETTINGS.enableImagePreviews ? templateEmbedImage.apply({ url: embed.url, src: embed.thumbnail.url }) : "";
						}
						else if ("title" in embed && "description" in embed) {
							return templateEmbedRich.apply(embed);
						}
						else if ("title" in embed) {
							return templateEmbedRichNoDescription.apply(embed);
						}
						else {
							return templateEmbedUrl.apply(embed);
						}
					}).join("");
				}
				else if (property === "attachments") {
					if (!value) {
						return "";
					}
					
					return value.map(attachment => {
						if (this.isImageAttachment(attachment) && SETTINGS.enableImagePreviews) {
							return templateEmbedImage.apply({ url: attachment.url, src: attachment.url });
						}
						else {
							const sliced = attachment.url.split("/");
							
							return templateAttachmentDownload.apply({
								"url": attachment.url,
								"filename": sliced[sliced.length - 1]
							});
						}
					}).join("");
				}
				else if (property === "edit") {
					return value ? "<span class='info edited'>Edited " + DOM.getHumanReadableTime(value) + "</span>" : "";
				}
				else if (property === "jump") {
					return STATE.hasActiveFilter ? "<span class='info jump' data-jump='" + value + "'>Jump to message</span>" : "";
				}
				else if (property === "reply") {
					if (!value) {
						return value === null ? "<span class='reply-contents reply-missing'>(replies to an unknown message)</span>" : "";
					}
					
					const user = "<span class='reply-username' title='#" + (value.user.tag ? value.user.tag : "????") + "'>" + value.user.name + "</span>";
					const avatar = SETTINGS.enableUserAvatars && value.avatar ? "<span class='reply-avatar'>" + templateUserAvatar.apply(value.avatar) + "</span>" : "";
					const contents = value.contents ? "<span class='reply-contents'>" + processMessageContents(value.contents) + "</span>" : "";
					
					return "<span class='jump' data-jump='" + value.id + "'>Jump to reply</span><span class='user'>" + avatar + user + "</span>" + contents;
				}
				else if (property === "reactions"){
					if (!value){
						return "";
					}
					
					return "<div class='reactions'>" + value.map(reaction => {
						if ("id" in reaction){
							// noinspection JSUnusedGlobalSymbols, JSUnresolvedVariable
							reaction.ext = reaction.a && SETTINGS.enableAnimatedEmoji ? "gif" : "png";
							return templateReactionCustom.apply(reaction);
						}
						else {
							return templateReaction.apply(reaction);
						}
					}).join("") + "</div>";
				}
			});
		}
	};
})();

const HTML_ENTITY_MAP = {
	"&": "&amp;",
	"<": "&lt;",
	">": "&gt;",
	"\"": "&quot;",
	"'": "&#39;"
};

const HTML_ENTITY_REGEX = /[&<>"']/g;

class DOM {
	/**
	 * Returns a child element by its ID. Parent defaults to the entire document.
	 */
	static id(id, parent) {
		return (parent || document).getElementById(id);
	}
	
	/**
	 * Returns an array of all child elements containing the specified class. Parent defaults to the entire document.
	 */
	static cls(cls, parent) {
		return Array.prototype.slice.call((parent || document).getElementsByClassName(cls));
	}
	
	/**
	 * Returns an array of all child elements that have the specified tag. Parent defaults to the entire document.
	 */
	static tag(tag, parent) {
		return Array.prototype.slice.call((parent || document).getElementsByTagName(tag));
	}
	
	/**
	 * Returns the first child element containing the specified class. Parent defaults to the entire document.
	 */
	static fcls(cls, parent) {
		return (parent || document).getElementsByClassName(cls)[0];
	}
	
	/**
	 * Converts characters to their HTML entity form.
	 */
	static escapeHTML(html) {
		return String(html).replace(HTML_ENTITY_REGEX, s => HTML_ENTITY_MAP[s]);
	}
	
	/**
	 * Converts a timestamp into a human readable time, using the browser locale.
	 */
	static getHumanReadableTime(timestamp) {
		const date = new Date(timestamp);
		return date.toLocaleDateString() + ", " + date.toLocaleTimeString();
	};
}

const GUI = (function() {
	let eventOnOptMessagesPerPageChanged;
	let eventOnOptMessageFilterChanged;
	let eventOnNavButtonClicked;
	
	const getActiveFilter = function() {
		const active = DOM.fcls("active", DOM.id("opt-filter-list"));
		
		return active && active.value !== "" ? {
			"type": active.getAttribute("data-filter-type"),
			"value": active.value
		} : null;
	};
	
	const triggerFilterChanged = function() {
		eventOnOptMessageFilterChanged && eventOnOptMessageFilterChanged(getActiveFilter());
	};
	
	const showModal = function(width, html) {
		const dialog = DOM.id("dialog");
		dialog.innerHTML = html;
		dialog.style.width = width + "px";
		dialog.style.marginLeft = (-width / 2) + "px";
		
		DOM.id("modal").classList.add("visible");
		return dialog;
	};
	
	// -------------
	// Modal dialogs
	// -------------
	
	const showSettingsModal = function() {
		showModal(560, `
<label><input id='dht-cfg-imgpreviews' type='checkbox'> Image Previews</label><br>
<label><input id='dht-cfg-formatting' type='checkbox'> Message Formatting</label><br>
<label><input id='dht-cfg-useravatars' type='checkbox'> User Avatars</label><br>
<label><input id='dht-cfg-animemoji' type='checkbox'> Animated Emoji</label><br>`);
		
		const setupCheckBox = function(id, settingName) {
			const ele = DOM.id(id);
			ele.checked = SETTINGS[settingName];
			ele.addEventListener("change", () => SETTINGS[settingName] = ele.checked);
		};
		
		setupCheckBox("dht-cfg-imgpreviews", "enableImagePreviews");
		setupCheckBox("dht-cfg-formatting", "enableFormatting");
		setupCheckBox("dht-cfg-useravatars", "enableUserAvatars");
		setupCheckBox("dht-cfg-animemoji", "enableAnimatedEmoji");
	};
	
	const showInfoModal = function() {
		const linkGH = "https://github.com/chylex/Discord-History-Tracker";
		
		showModal(560, `
<p>This is the H3 Cracking Archive, showing everything before we moved to Guilded.</p>
<p>This website is powered by Discord History Tracker. DHT is developed by <a href='https://chylex.com'>chylex</a> as an <a href='${linkGH}/blob/master/LICENSE.md'>open source</a> project.</p>
<p>Please, report any issues and suggestions to the <a href='${linkGH}/issues'>tracker</a>. If you want to support the development, please spread the word and consider <a href='https://www.patreon.com/chylex'>becoming a patron</a> or <a href='https://ko-fi.com/chylex'>buying me a coffee</a>. Any support is appreciated!</p>
<p><a href='${linkGH}/issues'>Issue Tracker</a> &nbsp;&mdash;&nbsp; <a href='${linkGH}'>GitHub Repository</a> &nbsp;&mdash;&nbsp; <a href='https://twitter.com/chylexmc'>DHT Developer's Twitter</a></p>`);
	};
	
	return {
		
		// ---------
		// GUI setup
		// ---------
		
		setup() {
			const inputMessageFilter = DOM.id("opt-messages-filter");
			const containerFilterList = DOM.id("opt-filter-list");
			
			const resetActiveFilter = function() {
				inputMessageFilter.value = "";
				inputMessageFilter.dispatchEvent(new Event("change"));
				
				DOM.id("opt-filter-contents").value = "";
			};
			
			inputMessageFilter.value = ""; // required to prevent browsers from remembering old value
			
			inputMessageFilter.addEventListener("change", () => {
				DOM.cls("active", containerFilterList).forEach(ele => ele.classList.remove("active"));
				
				if (inputMessageFilter.value) {
					containerFilterList.querySelector("[data-filter-type='" + inputMessageFilter.value + "']").classList.add("active");
				}
				
				triggerFilterChanged();
			});
			
			Array.prototype.forEach.call(containerFilterList.children, ele => {
				ele.addEventListener(ele.tagName === "SELECT" ? "change" : "input", () => triggerFilterChanged());
			});
			
			DOM.id("opt-messages-per-page").addEventListener("change", () => {
				eventOnOptMessagesPerPageChanged && eventOnOptMessagesPerPageChanged();
			});
			
			DOM.tag("button", DOM.fcls("nav")).forEach(button => {
				button.disabled = true;
				
				button.addEventListener("click", () => {
					eventOnNavButtonClicked && eventOnNavButtonClicked(button.getAttribute("data-nav"));
				});
			});
			
			DOM.id("btn-settings").addEventListener("click", () => {
				showSettingsModal();
			});
			
			DOM.id("btn-about").addEventListener("click", () => {
				showInfoModal();
			});
			
			DOM.id("messages").addEventListener("click", e => {
				const jump = e.target.getAttribute("data-jump");
				
				if (jump) {
					resetActiveFilter();
					
					const index = STATE.navigateToMessage(jump);
					
					if (index === -1) {
						alert("Message not found.");
					}
					else {
						DOM.id("messages").children[index].scrollIntoView();
					}
				}
			});
			
			DOM.id("overlay").addEventListener("click", () => {
				DOM.id("modal").classList.remove("visible");
				DOM.id("dialog").innerHTML = "";
			});
		},
		
		// -----------------
		// Event registering
		// -----------------
		
		/**
		 * Sets a callback for when the user changes the messages per page option. The callback is not passed any arguments.
		 */
		onOptionMessagesPerPageChanged(callback) {
			eventOnOptMessagesPerPageChanged = callback;
		},
		
		/**
		 * Sets a callback for when the user changes the active filter. The callback is passed either null or an object such as { type: <filter type>, value: <filter value> }.
		 */
		onOptMessageFilterChanged(callback) {
			eventOnOptMessageFilterChanged = callback;
		},
		
		/**
		 * Sets a callback for when the user clicks a navigation button. The callback is passed one of the following strings: first, prev, next, last.
		 */
		onNavigationButtonClicked(callback) {
			eventOnNavButtonClicked = callback;
		},
		
		// ----------------------
		// Options and navigation
		// ----------------------
		
		/**
		 * Returns the selected amount of messages per page.
		 */
		getOptionMessagesPerPage() {
			/** @type HTMLInputElement */
			const messagesPerPage = DOM.id("opt-messages-per-page");
			return parseInt(messagesPerPage.value, 10);
		},
		
		updateNavigation(currentPage, totalPages) {
			DOM.id("nav-page-current").innerHTML = currentPage;
			DOM.id("nav-page-total").innerHTML = totalPages || "?";
			
			DOM.id("nav-first").disabled = currentPage === 1;
			DOM.id("nav-prev").disabled = currentPage === 1;
			DOM.id("nav-pick").disabled = (totalPages || 0) <= 1;
			DOM.id("nav-next").disabled = currentPage === (totalPages || 1);
			DOM.id("nav-last").disabled = currentPage === (totalPages || 1);
		},
		
		// --------------
		// Updating lists
		// --------------
		
		/**
		 * Updates the channel list and sets up their click events. The callback is triggered whenever a channel is selected, and takes the channel ID as its argument.
		 */
		updateChannelList(channels, selected, callback) {
			const eleChannels = DOM.id("channels");
			
			if (!channels) {
				eleChannels.innerHTML = "";
			}
			else {
				if (getActiveFilter() != null) {
					channels = channels.filter(channel => channel.msgcount > 0);
				}
				
				eleChannels.innerHTML = channels.map(channel => DISCORD.getChannelHTML(channel)).join("");
				
				Array.prototype.forEach.call(eleChannels.children, ele => {
					ele.addEventListener("click", () => {
						const currentChannel = DOM.fcls("active", eleChannels);
						
						if (currentChannel) {
							currentChannel.classList.remove("active");
						}
						
						ele.classList.add("active");
						callback(ele.getAttribute("data-channel"));
					});
				});
				
				if (selected) {
					const activeChannel = eleChannels.querySelector("[data-channel='" + selected + "']");
					activeChannel && activeChannel.classList.add("active");
				}
			}
		},
		
		updateMessageList(messages) {
			DOM.id("messages").innerHTML = messages ? messages.map(message => DISCORD.getMessageHTML(message)).join("") : "";
		},
		
		updateUserList(users) {
			/** @type HTMLSelectElement */
			const eleSelect = DOM.id("opt-filter-user");
			
			while (eleSelect.length > 1) {
				eleSelect.remove(1);
			}
			
			const options = [];
			
			for (const key of Object.keys(users)) {
				const option = document.createElement("option");
				option.value = key;
				option.text = users[key].name;
				options.push(option);
			}
			
			options.sort((a, b) => a.text.toLocaleLowerCase().localeCompare(b.text.toLocaleLowerCase()));
			options.forEach(option => eleSelect.add(option));
		},
		
		scrollMessagesToTop() {
			DOM.id("messages").scrollTop = 0;
		}
	};
})();

const PROCESSOR = {};

// ------------------------
// Global filter generators
// ------------------------

PROCESSOR.FILTER = {
	byUser: ((userindex) => message => message.u === userindex),
	byTime: ((timeStart, timeEnd) => message => message.t >= timeStart && message.t <= timeEnd),
	byContents: ((substr) => message => ("m" in message ? message.m : "").indexOf(substr) !== -1),
	byRegex: ((regex) => message => regex.test("m" in message ? message.m : "")),
	withImages: (() => message => (message.e && message.e.some(embed => embed.type === "image")) || (message.a && message.a.some(DISCORD.isImageAttachment))),
	withDownloads: (() => message => message.a && message.a.some(attachment => !DISCORD.isImageAttachment(attachment))),
	withEmbeds: (() => message => message.e && message.e.length > 0),
	withAttachments: (() => message => message.a && message.a.length > 0),
	isEdited: (() => message => ("te" in message) ? message.te : (message.f & 1) === 1)
};

// --------------
// Global sorters
// --------------

PROCESSOR.SORTER = {
	oldestToNewest: (key1, key2) => {
		if (key1.length === key2.length) {
			return key1 > key2 ? 1 : key1 < key2 ? -1 : 0;
		}
		else {
			return key1.length > key2.length ? 1 : -1;
		}
	},
	
	newestToOldest: (key1, key2) => {
		if (key1.length === key2.length) {
			return key1 > key2 ? -1 : key1 < key2 ? 1 : 0;
		}
		else {
			return key1.length > key2.length ? -1 : 1;
		}
	}
};

const SETTINGS = (function() {
	/**
	 * @type {{}}
	 * @property {Function} onSettingsChanged
	 * @property {Boolean} enableImagePreviews
	 * @property {Boolean} enableFormatting
	 * @property {Boolean} enableUserAvatars
	 * @property {Boolean} enableAnimatedEmoji
	 */
	const root = {
		onSettingsChanged(callback) {
			settingsChangedEvents.push(callback);
		}
	};
	
	const settingsChangedEvents = [];
	
	const triggerSettingsChanged = function(property) {
		for (const callback of settingsChangedEvents) {
			callback(property);
		}
	};
	
	const getStorageItem = (property) => {
		try {
			return localStorage.getItem(property);
		} catch (e) {
			console.error(e);
			return null;
		}
	};
	
	const setStorageItem = (property, value) => {
		try {
			localStorage.setItem(property, value);
		} catch (e) {
			console.error(e);
		}
	};
	
	const defineSettingProperty = (property, defaultValue, storageToValue) => {
		const name = "_" + property;
		
		Object.defineProperty(root, property, {
			get: (() => root[name]),
			set: (value => {
				root[name] = value;
				triggerSettingsChanged(property);
				setStorageItem(property, value);
			})
		});
		
		let stored = getStorageItem(property);
		
		if (stored !== null) {
			stored = storageToValue(stored);
		}
		
		root[name] = stored === null ? defaultValue : stored;
	};
	
	const fromBooleanString = (value) => {
		if (value === "true") {
			return true;
		}
		else if (value === "false") {
			return false;
		}
		else {
			return null;
		}
	};
	
	defineSettingProperty("enableImagePreviews", true, fromBooleanString);
	defineSettingProperty("enableFormatting", true, fromBooleanString);
	defineSettingProperty("enableUserAvatars", true, fromBooleanString);
	defineSettingProperty("enableAnimatedEmoji", true, fromBooleanString);
	
	return root;
})();

// noinspection FunctionWithInconsistentReturnsJS
const STATE = (function() {
	/**
	 * @type {{}}
	 * @property {{}} users
	 * @property {String[]} userindex
	 * @property {{}[]} servers
	 * @property {{}} channels
	 */
	let loadedFileMeta;
	let loadedFileData;
	
	let loadedMessages;
	
	let filterFunction;
	let selectedChannel;
	let currentPage;
	let messagesPerPage;
	
	const getUser = function(index) {
		return loadedFileMeta.users[loadedFileMeta.userindex[index]] || { "name": "&lt;unknown&gt;" };
	};
	
	const getUserId = function(index) {
		return loadedFileMeta.userindex[index];
	};
	
	const getUserList = function() {
		return loadedFileMeta ? loadedFileMeta.users : [];
	};
	
	const getServer = function(index) {
		return loadedFileMeta.servers[index] || { "name": "&lt;unknown&gt;", "type": "unknown" };
	};
	
	const generateChannelHierarchy = function() {
		/**
		 * @type {Map<string, Set>}
		 */
		const hierarchy = new Map();
		
		if (!loadedFileMeta) {
			return hierarchy;
		}
		
		/**
		 * @returns {Set}
		 */
		function getChildren(parentId) {
			let children = hierarchy.get(parentId);
			
			if (!children) {
				children = new Set();
				hierarchy.set(parentId, children);
			}
			
			return children;
		}
		
		for (const [ id, channel ] of Object.entries(loadedFileMeta.channels)) {
			getChildren(channel.parent || "").add(id);
		}
		
		const unreachableIds = new Set(hierarchy.keys());
		
		function reachIds(parentId) {
			unreachableIds.delete(parentId);
			
			const children = hierarchy.get(parentId);
			
			if (children) {
				for (const id of children) {
					reachIds(id);
				}
			}
		}
		
		reachIds("");
		
		const rootChildren = getChildren("");
		
		for (const unreachableId of unreachableIds) {
			for (const id of hierarchy.get(unreachableId)) {
				rootChildren.add(id);
			}
			
			hierarchy.delete(unreachableId);
		}
		
		return hierarchy;
	};
	
	const generateChannelOrder = function() {
		if (!loadedFileMeta) {
			return {};
		}
		
		const channels = loadedFileMeta.channels;
		const hierarchy = generateChannelHierarchy();
		
		function getSortedSubTree(parentId) {
			const children = hierarchy.get(parentId);
			if (!children) {
				return [];
			}
			
			const sortedChildren = Array.from(children);
			
			sortedChildren.sort((id1, id2) => {
				const c1 = channels[id1];
				const c2 = channels[id2];
				const s1 = getServer(c1.server);
				const s2 = getServer(c2.server);
				
				return s1.type.localeCompare(s2.type, "en") ||
					s1.name.toLocaleLowerCase().localeCompare(s2.name.toLocaleLowerCase(), undefined, { numeric: true }) ||
					(c1.position || -1) - (c2.position || -1) ||
					c1.name.toLocaleLowerCase().localeCompare(c2.name.toLocaleLowerCase(), undefined, { numeric: true });
			});
			
			const subTree = [];
			
			for (const id of sortedChildren) {
				subTree.push(id);
				subTree.push(...getSortedSubTree(id));
			}
			
			return subTree;
		}
		
		const orderArray = getSortedSubTree("");
		const orderMap = {};
		
		for (let i = 0; i < orderArray.length; i++) {
			orderMap[orderArray[i]] = i;
		}
		
		return orderMap;
	};
	
	const getChannelList = function() {
		if (!loadedFileMeta) {
			return [];
		}
		
		const channels = loadedFileMeta.channels;
		const channelOrder = generateChannelOrder();
		
		return Object.keys(channels).map(key => ({
			"id": key,
			"name": channels[key].name,
			"server": getServer(channels[key].server),
			"msgcount": getFilteredMessageKeys(key).length,
			"topic": channels[key].topic || "",
			"nsfw": channels[key].nsfw || false,
		})).sort((ac, bc) => {
			return channelOrder[ac.id] - channelOrder[bc.id];
		});
	};
	
	const getMessages = function(channel) {
		return loadedFileData[channel] || {};
	};
	
	const getMessageById = function(id) {
		for (const messages of Object.values(loadedFileData)) {
			if (id in messages) {
				return messages[id];
			}
		}
		
		return null;
	};
	
	const getMessageChannel = function(id) {
		for (const [ channel, messages ] of Object.entries(loadedFileData)) {
			if (id in messages) {
				return channel;
			}
		}
		
		return null;
	};
	
	const getMessageList = function() {
		if (!loadedMessages) {
			return [];
		}
		
		const messages = getMessages(selectedChannel);
		const startIndex = messagesPerPage * (root.getCurrentPage() - 1);
		
		return loadedMessages.slice(startIndex, !messagesPerPage ? undefined : startIndex + messagesPerPage).map(key => {
			/**
			 * @type {{}}
			 * @property {Number} u
			 * @property {Number} t
			 * @property {String} m
			 * @property {Number} [te]
			 * @property {String} [r]
			 * @property {{}[]} [a]
			 * @property {String[]} [e]
			 * @property {{}[]} [re]
			 */
			const message = messages[key];
			const user = getUser(message.u);
			const avatar = user.avatar ? { id: getUserId(message.u), path: user.avatar } : null;
			
			const obj = {
				user,
				avatar,
				"timestamp": message.t,
				"jump": key,
			};
			
			if ("m" in message) {
				obj["contents"] = message.m;
			}
			
			if ("e" in message) {
				obj["embeds"] = message.e.map(embed => JSON.parse(embed));
			}
			
			if ("a" in message) {
				obj["attachments"] = message.a;
			}
			
			if ("te" in message) {
				obj["edit"] = message.te;
			}
			
			if ("r" in message) {
				const replyMessage = getMessageById(message.r);
				const replyUser = replyMessage ? getUser(replyMessage.u) : null;
				const replyAvatar = replyUser && replyUser.avatar ? { id: getUserId(replyMessage.u), path: replyUser.avatar } : null;
				
				obj["reply"] = replyMessage ? {
					"id": message.r,
					"user": replyUser,
					"avatar": replyAvatar,
					"contents": replyMessage.m
				} : null;
			}
			
			if ("re" in message) {
				obj["reactions"] = message.re;
			}
			
			return obj;
		});
	};
	
	let eventOnUsersRefreshed;
	let eventOnChannelsRefreshed;
	let eventOnMessagesRefreshed;
	
	const triggerUsersRefreshed = function() {
		eventOnUsersRefreshed && eventOnUsersRefreshed(getUserList());
	};
	
	const triggerChannelsRefreshed = function(selectedChannel) {
		eventOnChannelsRefreshed && eventOnChannelsRefreshed(getChannelList(), selectedChannel);
	};
	
	const triggerMessagesRefreshed = function() {
		eventOnMessagesRefreshed && eventOnMessagesRefreshed(getMessageList());
	};
	
	const getFilteredMessageKeys = function(channel) {
		const messages = getMessages(channel);
		let keys = Object.keys(messages);
		
		if (filterFunction) {
			keys = keys.filter(key => filterFunction(messages[key]));
		}
		
		return keys;
	};
	
	const root = {
		onChannelsRefreshed(callback) {
			eventOnChannelsRefreshed = callback;
		},
		
		onMessagesRefreshed(callback) {
			eventOnMessagesRefreshed = callback;
		},
		
		onUsersRefreshed(callback) {
			eventOnUsersRefreshed = callback;
		},
		
		/**
		 * @param {{ meta, data }} file
		 */
		uploadFile(file) {
			if (loadedFileMeta != null) {
				throw "A file is already loaded!";
			}
			
			if (!file || typeof file.meta !== "object" || typeof file.data !== "object") {
				throw "Invalid file format!";
			}
			
			loadedFileMeta = file.meta;
			loadedFileData = file.data;
			loadedMessages = null;
			
			selectedChannel = null;
			currentPage = 1;
			
			triggerUsersRefreshed();
			triggerChannelsRefreshed();
			triggerMessagesRefreshed();
			
			SETTINGS.onSettingsChanged(() => triggerMessagesRefreshed());
		},
		
		getChannelName(channel) {
			const channelObj = loadedFileMeta.channels[channel];
			return (channelObj && channelObj.name) || channel;
		},
		
		getUserTag(user) {
			const userObj = loadedFileMeta.users[user];
			return (userObj && userObj.tag) || "????";
		},
		
		getUserName(user) {
			const userObj = loadedFileMeta.users[user];
			return (userObj && userObj.name) || user;
		},
		
		selectChannel(channel) {
			currentPage = 1;
			selectedChannel = channel;
			
			loadedMessages = getFilteredMessageKeys(channel).sort(PROCESSOR.SORTER.oldestToNewest);
			triggerMessagesRefreshed();
		},
		
		setMessagesPerPage(amount) {
			messagesPerPage = amount;
			triggerMessagesRefreshed();
		},
		
		updateCurrentPage(action) {
			switch (action) {
				case "first":
					currentPage = 1;
					break;
				
				case "prev":
					currentPage = Math.max(1, currentPage - 1);
					break;
				
				case "next":
					currentPage = Math.min(this.getPageCount(), currentPage + 1);
					break;
				
				case "last":
					currentPage = this.getPageCount();
					break;
				
				case "pick":
					const page = parseInt(prompt("Select page:", currentPage), 10);
					
					if (!page && page !== 0) {
						return;
					}
					
					currentPage = Math.max(1, Math.min(this.getPageCount(), page));
					break;
			}
			
			triggerMessagesRefreshed();
		},
		
		getCurrentPage() {
			const total = this.getPageCount();
			
			if (currentPage > total && total > 0) {
				currentPage = total;
			}
			
			return currentPage || 1;
		},
		
		getPageCount() {
			return !loadedMessages ? 0 : (!messagesPerPage ? 1 : Math.ceil(loadedMessages.length / messagesPerPage));
		},
		
		navigateToMessage(id) {
			if (!loadedMessages) {
				return -1;
			}
			
			const channel = getMessageChannel(id);
			
			if (channel !== null && channel !== selectedChannel) {
				triggerChannelsRefreshed(channel);
				this.selectChannel(channel);
			}
			
			const index = loadedMessages.indexOf(id);
			
			if (index === -1) {
				return -1;
			}
			
			currentPage = Math.max(1, Math.min(this.getPageCount(), 1 + Math.floor(index / messagesPerPage)));
			triggerMessagesRefreshed();
			return index % messagesPerPage;
		},
		
		setActiveFilter(filter) {
			switch (filter ? filter.type : "") {
				case "user":
					filterFunction = PROCESSOR.FILTER.byUser(loadedFileMeta.userindex.indexOf(filter.value));
					break;
				
				case "contents":
					filterFunction = PROCESSOR.FILTER.byContents(filter.value);
					break;
				
				case "withimages":
					filterFunction = PROCESSOR.FILTER.withImages();
					break;
				
				case "withdownloads":
					filterFunction = PROCESSOR.FILTER.withDownloads();
					break;
				
				case "edited":
					filterFunction = PROCESSOR.FILTER.isEdited();
					break;
				
				default:
					filterFunction = null;
					break;
			}
			
			this.hasActiveFilter = filterFunction != null;
			
			triggerChannelsRefreshed(selectedChannel);
			
			if (selectedChannel) {
				this.selectChannel(selectedChannel); // resets current page and updates messages
			}
		}
	};
	
	root.hasActiveFilter = false;
	return root;
})();

const TEMPLATE_REGEX = /{([^{}]+?)}/g;

class TEMPLATE {
	constructor(contents) {
		this.contents = contents;
	};
	
	apply(obj, processor) {
		return this.contents.replace(TEMPLATE_REGEX, (full, match) => {
			const value = match.split(".").reduce((o, property) => o[property], obj);
			
			if (processor) {
				const updated = processor(match, value);
				return typeof updated === "undefined" ? DOM.escapeHTML(value) : updated;
			}
			
			return DOM.escapeHTML(value);
		});
	}
}

    </script>
    <style>
      #channels {
  width: 15vw;
  min-width: 215px;
  max-width: 300px;
  overflow-y: auto;
  background-color: #1c1e22;
}

#channels > div {
  cursor: pointer;
  padding: 10px 12px;
  color: #eee;
  font-size: 15px;
  border-bottom: 1px solid #333333;
}

#channels > div:hover, #channels > div.active {
  background-color: #282b30;
}

#channels .info {
  display: flex;
  height: 16px;
  margin-bottom: 4px;
}

#channels .name {
  flex-grow: 1;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

#channels .tag {
  flex-shrink: 1;
  background-color: rgba(255, 255, 255, 0.08);
  border-radius: 4px;
  margin-left: 4px;
  margin-top: 1px;
  padding: 2px 5px;
  font-size: 11px;
}

body {
  font-family: Whitney, "Helvetica Neue", Helvetica, Verdana, "Lucida Grande", sans-serif;
  line-height: 1;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#app {
  height: calc(100vh - 48px);
  display: flex;
  flex-direction: row;
}

#menu {
  width: 100%;
  height: 48px;
  display: flex;
  flex-direction: row;
  background-color: #17181c;
  border-bottom: 1px dotted #5d626b;
}

#menu .splitter {
  width: 1px;
  margin: 9px 4px;
  background-color: #5d626b;
}

#menu .separator {
  flex: 1 1 0;
}

#menu :disabled {
  background-color: #555;
  cursor: default;
}

#menu button, #menu select, #menu input[type="text"] {
  margin: 8px;
  background-color: #9A8028;
  color: #fff;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.75);
}

#menu button {
  font-size: 17px;
  padding: 0 12px;
  border: 0;
  cursor: pointer;
}

#menu select {
  font-size: 14px;
  padding: 6px;
  border: 0;
  cursor: pointer;
}

#menu input[type="text"] {
  font-size: 14px;
  padding: 7px 12px;
  border: 0;
}

#menu .nav {
  display: flex;
  flex-direction: row;
  margin: 0 8px;
}

#menu .nav > button {
  font-size: 14px;
}

#menu .nav > button.icon {
  font-family: Lucida Console, monospace;
  font-size: 17px;
  padding: 0 8px;
}

#menu .nav > button, #menu .nav > p {
  margin: 8px 1px;
}

#opt-filter-list > select, #opt-filter-list > input {
  display: none;
}

#opt-filter-list > .active {
  display: block;
}

#messages {
  flex: 1 1 0;
  overflow-y: auto;
  background-color: #36393E;
}

#messages > div {
  margin: 0 24px;
  padding: 4px 0 12px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

#messages h2 {
  margin: 0;
  padding: 0;
  display: block;
}

#messages .avatar-wrapper {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  align-content: flex-start;
}

#messages .avatar-wrapper > div {
  flex: 1 1 auto;
}

#messages .avatar {
  flex: 0 0 38px !important;
  margin: 8px 14px 0 0;
}

#messages .avatar img {
  width: 38px;
  border-radius: 50%;
}

#messages .username {
  color: #FFF;
  font-size: 15px;
  font-weight: 600;
  margin-right: 3px;
  letter-spacing: 0;
}

#messages .info {
  color: rgba(255, 255, 255, 0.4);
  font-size: 12px;
  font-weight: 500;
  letter-spacing: 0;
}

#messages .info::before {
  content: "\2022";
  text-align: center;
  display: inline-block;
  width: 14px;
}

#messages .jump {
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.message {
  margin-top: 6px;
  color: rgba(255, 255, 255, 0.7);
  font-size: 15px;
  line-height: 1.1em;
  white-space: pre-wrap;
  word-wrap: break-word;
}

.message .link, .reply-message .link {
  color: #9A8028;
  background-color: rgba(115, 139, 215, 0.1);
}

.message a, .reply-message a {
  color: #0096CF;
  text-decoration: none;
}

.message a:hover {
  text-decoration: underline;
}

.message p {
  margin: 0;
}

.message .embed {
  display: inline-block;
  margin-top: 8px;
}

.message .embed .title {
  font-weight: bold;
  display: inline-block;
}

.message .embed .desc {
  margin-top: 4px;
}

.message .thumbnail {
  max-width: calc(100% - 20px);
  max-height: 320px;
}

.message .thumbnail img {
  max-width: 100%;
  max-height: 320px;
  border-radius: 3px;
}

.message .download {
  margin-right: 8px;
  padding: 8px 9px;
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 3px;
}

.message .embed:first-child, .message .download + .download {
  margin-top: 0;
}

.message code {
  background-color: #2E3136;
  border-radius: 5px;
  font-family: Menlo, Consolas, Monaco, monospace;
  font-size: 14px;
}

.message code.inline {
  display: inline;
  padding: 2px;
}

.message code.block {
  display: block;
  border: 2px solid #282B30;
  margin-top: 6px;
  padding: 7px;
}

.message .emoji {
  width: 22px;
  height: 22px;
  margin: 0 1px;
  vertical-align: -30%;
  object-fit: contain;
}

.reply-message {
  display: flex;
  align-items: baseline;
  flex-wrap: wrap;
  line-height: 120%;
  white-space: nowrap;
}

.reply-message-with-avatar {
  margin: 0 0 -2px 52px;
}

.reply-message .jump {
  color: rgba(255, 255, 255, 0.4);
  font-size: 12px;
  text-underline-offset: 1px;
  margin-right: 7px;
}

.reply-message .emoji {
  width: 16px;
  height: 16px;
  vertical-align: -20%;
  object-fit: contain;
}

.reply-message .user {
  margin-right: 5px;
}

.reply-avatar {
  margin-right: 4px;
}

.reply-avatar img {
  width: 16px;
  border-radius: 50%;
  vertical-align: middle;
}

.reply-username {
  color: #FFF;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0;
}

.reply-contents {
  display: inline-block;
  color: rgba(255, 255, 255, 0.7);
  font-size: 12px;
  max-width: calc(80%);
}

.reply-contents p {
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}

.reply-contents code {
  background-color: #2E3136;
  font-family: Menlo, Consolas, Monaco, monospace;
  padding: 1px 2px;
}

.reply-missing {
  color: rgba(255, 255, 255, 0.55);
}

.reactions {
  margin-top: 4px;
}

.reactions .reaction-wrapper {
  display: inline-block;
  border-radius: 4px;
  margin: 3px 2px 0 0;
  padding: 3px 6px;
  background: #42454a;
  cursor: default;
}

.reactions .reaction-emoji {
  margin-right: 5px;
  font-size: 16px;
  display: inline-block;
  text-align: center;
  vertical-align: -5%;
}

.reactions .reaction-emoji-custom {
  height: 15px;
  margin-right: 5px;
  vertical-align: -10%;
}

.reactions .count {
  color: rgba(255, 255, 255, 0.45);
  font-size: 14px;
}

#modal div {
  position: absolute;
  display: none;
}

#modal.visible div {
  display: block;
}

#modal #overlay {
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: #000;
}

#modal.visible #overlay {
  opacity: 0.5;
}

#dialog {
  left: 50%;
  top: 50%;
  padding: 16px;
  background-color: #fff;
  transform: translateY(-50%);
}

#dialog p {
  line-height: 1.2;
}

#dialog p:first-child, #dialog p:last-child {
  margin-top: 1px;
  margin-bottom: 1px;
}

#dialog a {
  color: #0096cf;
  text-decoration: none;
}

#dialog a:hover {
  text-decoration: underline;
}

    </style>
  </head>
  <body>
    <div id="menu">
      <button id="btn-settings">Settings</button>
      
      <div> <!-- needed to stop the select from messing up -->
        <select id="opt-messages-per-page">
          <option value="50">50 messages per page&nbsp;</option>
          <option value="100">100 messages per page&nbsp;</option>
          <option value="250">250 messages per page&nbsp;</option>
          <option value="500">500 messages per page&nbsp;</option>
          <option value="1000">1000 messages per page&nbsp;</option>
          <option value="0">All messages&nbsp;</option>
        </select>
      </div>
      
      <div class="nav">
        <button id="nav-first" data-nav="first" class="icon">&laquo;</button>
        <button id="nav-prev" data-nav="prev" class="icon">&lsaquo;</button>
        <button id="nav-pick" data-nav="pick">Page <span id="nav-page-current">1</span>/<span id="nav-page-total">?</span></button>
        <button id="nav-next" data-nav="next" class="icon">&rsaquo;</button>
        <button id="nav-last" data-nav="last" class="icon">&raquo;</button>
      </div>
      
      <div class="splitter"></div>
      
      <div> <!-- needed to stop the select from messing up -->
        <select id="opt-messages-filter">
          <option value="">No filter&nbsp;</option>
          <option value="user">Filter messages by user&nbsp;</option>
          <option value="contents">Filter messages by contents&nbsp;</option>
          <option value="withimages">Only messages with images&nbsp;</option>
          <option value="withdownloads">Only messages with downloads&nbsp;</option>
          <option value="edited">Only edited messages&nbsp;</option>
        </select>
      </div>
      
      <div id="opt-filter-list">
        <select id="opt-filter-user" data-filter-type="user">
          <option value="">Select user...</option>
        </select>
        <input id="opt-filter-contents" type="text" data-filter-type="contents" placeholder="Messages containing...">
        <input type="hidden" data-filter-type="withimages" value="1">
        <input type="hidden" data-filter-type="withdownloads" value="1">
        <input type="hidden" data-filter-type="edited" value="1">
      </div>
      
      <div class="separator"></div>
      
      <button id="btn-about">About</button>
    </div>
    
    <div id="app">
      <div id="channels"></div>
      <div id="messages"></div>
    </div>
    
    <div id="modal">
      <div id="overlay"></div>
      <div id="dialog"></div>
    </div>
  </body>
</html>
